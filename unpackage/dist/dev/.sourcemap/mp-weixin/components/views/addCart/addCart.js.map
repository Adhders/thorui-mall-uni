{"version":3,"sources":["webpack:///D:/Project/ThorUI-mall-uni/components/views/addCart/addCart.vue?0fde","webpack:///D:/Project/ThorUI-mall-uni/components/views/addCart/addCart.vue?c686","webpack:///D:/Project/ThorUI-mall-uni/components/views/addCart/addCart.vue?5603","webpack:///D:/Project/ThorUI-mall-uni/components/views/addCart/addCart.vue?702c","uni-app:///components/views/addCart/addCart.vue","webpack:///D:/Project/ThorUI-mall-uni/components/views/addCart/addCart.vue?3319","webpack:///D:/Project/ThorUI-mall-uni/components/views/addCart/addCart.vue?dc57"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgI;AAChI;AAC2D;AACL;AACsC;;;AAG5F;AAC8K;AAC9K,gBAAgB,qLAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,8FAAM;AACR,EAAE,uGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,kGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,6PAEN;AACP,KAAK;AACL;AACA,aAAa,2OAEN;AACP,KAAK;AACL;AACA,aAAa,yNAEN;AACP,KAAK;AACL;AACA,aAAa,mQAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC9EA;AAAA;AAAA;AAAA;AAA2pB,CAAgB,ypBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC2C/qB;AACA,iBADA;AAEA;AACA;AACA,kBADA;AAEA,kBAFA,EADA,EAFA;;;AAQA,MARA,kBAQA;AACA;AACA,sBADA;AAEA,eAFA;AAGA,iBAHA;AAIA,kBAJA;AAKA,mBALA,EAKA;AACA,wBANA;AAOA,6BAPA;AAQA,uBARA;AASA,+BATA,EASA;AACA,gDAVA;;AAYA,GArBA;AAsBA;AACA,cADA,sBACA,IADA,EACA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA,KAPA,EAtBA;;AA+BA;AACA,aADA,uBACA;AACA;AACA,KAHA,EA/BA;;AAoCA;AACA,WADA,mBACA,MADA,EACA,EADA,EACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA,OAPA,MAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA;AAKA;AACA;AACA,OAFA,EArBA,CAuBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA,WANA;AAOA,SARA;AASA;AACA;AACA,SAFA,EAXA,CAaA;AACA;AACA;AACA;AACA;AACA,SAHA;AAIA;;AAEA,8CArBA,CAqBA;AACA,qCAtBA,CAsBA;AACA;AACA;AACA;AACA;AACA;AACA,WAHA;AAIA;AACA,SAPA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA,SAHA;AAIA;AACA,OAvCA;AAwCA,KAlEA;AAmEA,YAnEA,oBAmEA,CAnEA,EAmEA,CAnEA,EAmEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAJA;AAKA;AACA;AACA;AACA,8CADA,KADA,CAEA;AACA;AACA,SAJA;AAKA;AACA;AACA,OAjBA,MAiBA;AACA;AACA;AACA,KAxFA;AAyFA,aAzFA,qBAyFA,CAzFA,EAyFA,CAzFA,EAyFA;AACA;AACA;AACA;AACA,KA7FA;AA8FA;AACA,iBA/FA,yBA+FA,KA/FA,EA+FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DADA;;AAGA;AACA,WALA;AAMA,SAPA;AAQA;AACA,OAXA;AAYA,KA7GA;AA8GA;AACA,UA/GA,oBA+GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CADA;AAEA,sDAHA;AAIA;AACA;AACA;AACA,OAVA;AAWA;AACA,KA9HA;AA+HA;AACA;AACA,KAjIA;AAkIA;AACA;AACA,KApIA;AAqIA,WArIA,qBAqIA;AACA;AACA,+BADA;AAEA,uCAFA;AAGA,qCAHA;AAIA,mDAJA;AAKA,mDALA;AAMA,qCANA;AAOA,uCAPA;AAQA,yDARA;AASA,gDATA;AAUA,2BAVA;;AAYA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SALA;;;AAQA;AACA;AACA,KAhKA;AAiKA,UAjKA,oBAiKA;AACA;AACA;AACA,+BADA;AAEA,uCAFA;AAGA,qCAHA;AAIA,mDAJA;AAKA,mDALA;AAMA,qCANA;AAOA,uCAPA;AAQA,yDARA;AASA,gDATA;AAUA,2BAVA;;AAYA;AACA;AACA,KAjLA,EApCA,E;;;;;;;;;;;;;AC3CA;AAAA;AAAA;AAAA;AAA0uC,CAAgB,iqCAAG,EAAC,C;;;;;;;;;;;ACA9vC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/views/addCart/addCart.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./addCart.vue?vue&type=template&id=94670432&scoped=true&\"\nvar renderjs\nimport script from \"./addCart.vue?vue&type=script&lang=js&\"\nexport * from \"./addCart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./addCart.vue?vue&type=style&index=0&id=94670432&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"94670432\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/views/addCart/addCart.vue\"\nexport default component.exports","export * from \"-!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addCart.vue?vue&type=template&id=94670432&scoped=true&\"","var components\ntry {\n  components = {\n    tuiBottomPopup: function() {\n      return import(\n        /* webpackChunkName: \"components/thorui/tui-bottom-popup/tui-bottom-popup\" */ \"@/components/thorui/tui-bottom-popup/tui-bottom-popup.vue\"\n      )\n    },\n    tuiNumberbox: function() {\n      return import(\n        /* webpackChunkName: \"components/thorui/tui-numberbox/tui-numberbox\" */ \"@/components/thorui/tui-numberbox/tui-numberbox.vue\"\n      )\n    },\n    tuiButton: function() {\n      return import(\n        /* webpackChunkName: \"components/thorui/tui-button/tui-button\" */ \"@/components/thorui/tui-button/tui-button.vue\"\n      )\n    },\n    tuiIcon: function() {\n      return import(\n        /* webpackChunkName: \"components/thorui/tui-icon/tui-icon\" */ \"@/components/thorui/tui-icon/tui-icon.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var f0 = _vm._f(\"attrFormat\")(_vm.selectedGoodsAttrList)\n\n  var l1 = _vm.__map(_vm.propsList, function(item, i) {\n    var $orig = _vm.__get_orig(item)\n\n    var l0 = _vm.__map(item.values, function(value, j) {\n      var $orig = _vm.__get_orig(value)\n\n      var m0 = _vm.isInvalid(i, j)\n      return {\n        $orig: $orig,\n        m0: m0\n      }\n    })\n\n    return {\n      $orig: $orig,\n      l0: l0\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        f0: f0,\n        l1: l1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addCart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addCart.vue?vue&type=script&lang=js&\"","<template>\r\n    <tui-bottom-popup :show=\"popupShow\" @close=\"hidePopup\" :translateY=\"scrollTop\">\r\n        <view class=\"tui-popup-box\">\r\n\t\t\t<view class=\"tui-product-box tui-padding\">\r\n\t\t\t\t<image :src=\"goodsDetail.defaultImageUrl\" class=\"tui-popup-img\"  mode=\"aspectFill\"></image>\r\n\t\t\t\t<view class=\"tui-price-box\">\r\n\t\t\t\t\t<view class=\"tui-popup-price\">\r\n\t\t\t\t\t\t<view class=\"tui-amount tui-bold\">￥{{goodsDetail.price}}</view>\r\n\t\t\t\t\t\t<view class=\"tui-number\">已选择: {{selectedGoodsAttrList | attrFormat}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<tui-numberbox style=\"flex-direction: row;\" :max=\"99\" :min=\"1\" :value=\"buyNum\" @change=\"change\"></tui-numberbox>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<scroll-view scroll-y class=\"tui-popup-scroll\">\r\n\t\t\t\t<view class=\"tui-scrollview-box\">\r\n\t\t\t\t\t<view v-for=\"(item, i) in propsList\" :key=i>\r\n\t\t\t\t\t\t<view class=\"tui-bold tui-attr-title\">{{item.name}}</view>\r\n\t\t\t\t\t\t<view class=\"tui-attr-box\">\r\n\t\t\t\t\t\t\t<view class=\"tui-attr-item\"\r\n\t\t\t\t\t\t\t\tv-for=\"(value, j) in item.values\" :key=j\r\n\t\t\t\t\t\t\t\t\t@tap=\"onSelect(i,j)\"\r\n\t\t\t\t\t\t\t\t:class=\"{ 'tui-attr-active': selectedIndex[i]===j, 'invalid': isInvalid(i,j)}\">\r\n\t\t\t\t\t\t\t\t\t{{value}}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t\t<view class=\"tui-operation tui-operation-right tui-right-flex tui-popup-btn\">\r\n                <view class=\"tui-flex-1\">\r\n                    <tui-button height=\"72rpx\" :size=\"28\" type=\"danger\" shape=\"circle\" @tap=\"addCart\">加入购物车</tui-button>\r\n                </view>\r\n                <view class=\"tui-flex-1\">\r\n                    <tui-button height=\"72rpx\" :size=\"28\" type=\"warning\" shape=\"circle\" @tap=\"submit\">立即购买</tui-button>\r\n                </view>\r\n            </view>\r\n\t\t\t<view class=\"tui-right\">\r\n\t\t\t\t<tui-icon name=\"close-fill\" color=\"#999\" :size=\"20\"  @tap=\"hidePopup\"></tui-icon>\r\n\t\t\t</view>\r\n\t\t</view>\r\n    </tui-bottom-popup>\r\n</template>\r\n<script>\r\nexport default {\r\n\tname: 'addCart',\r\n\tprops: {\r\n        'scrollTop':{\r\n            type: String,\r\n            default: '0'\r\n        }\r\n    },\r\n\tdata() {\r\n\t\treturn {\r\n            popupShow: false,\r\n            buyNum: 1,\r\n            skuList: [],\r\n            skuArray: [], \r\n            propsList: [], //商品属性\r\n            invalidSkuList: [],\r\n            invalidSkuIndexList: [],\r\n            selectedIndex: [],\r\n            selectedGoodsAttrList: [], //商品去重后的属性\r\n\t\t\tgoodsDetail: {selectedGoodsPropList: []},\r\n        }\r\n\t},\r\n    filters: {\r\n        attrFormat(attr) {\r\n            let res = ''\r\n            attr.forEach((o)=>{\r\n                res+=o.value+'，'\r\n            })\r\n            return res.slice(0, -1)\r\n        },\r\n    },\r\n    computed: {\r\n        goodsList() {\r\n            return this.$store.state.goodsList\r\n        }\r\n    },\r\n    methods: {\r\n        initial(spu_id, id){\r\n\t\t\tthis.skuList = this.goodsList.filter((o)=>{return o.spu_id === spu_id})\r\n\t\t\tif(this.skuList.length===0){\r\n\t\t\t\tuni.redirectTo({url: '/pages/index/invalidProduct/invalidProduct'})\r\n\t\t\t}\r\n\t\t\tif(id){\r\n                let index = this.skuList.findIndex((o)=>{return o.id === id})\r\n\t\t\t\tif(index === -1){\r\n\t\t\t\t\tuni.redirectTo({url: '/pages/index/invalidProduct/invalidProduct'})\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.goodsDetail = this.skuList[index]\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tthis.goodsDetail = this.skuList[0]\r\n\t\t\t}\r\n\t\t\tlet attrs = {}\r\n\t\t\tthis.goodsDetail.selectedGoodsAttrList.forEach(v=>{\r\n\t\t\t\tif(!attrs[v.name]){\r\n\t\t\t\t\tattrs[v.name] = v.value\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tthis.selectedGoodsAttrList=Object.keys(attrs).map((i)=>{\r\n\t\t\t\treturn { 'name': i, 'value': attrs[i] }\r\n\t\t\t}); //对象转数组   \r\n\r\n\t\t\tthis.$nextTick(()=>{\r\n\t\t\t\tlet attrs = {}\r\n\t\t\t\tthis.skuList.forEach((o) => {\r\n\t\t\t\t\to.selectedGoodsAttrList.forEach(v=>{\r\n\t\t\t\t\t\tif(attrs[v.name]){\r\n\t\t\t\t\t\t\tattrs[v.name].add(v.value)\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tattrs[v.name] = new Set([v.value])\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\tthis.propsList = Object.keys(attrs).map((i)=>{\r\n\t\t\t\t\treturn { 'name': i, 'values': Array.from(attrs[i])}\r\n\t\t\t\t}); //对象转数组\r\n                let skuArray = []\r\n\t\t\t\tthis.propsList.forEach((o)=>{\r\n\t\t\t\t\tlet skuValues = o.values.map((v)=>{return { 'name': o.name, 'value': v }})\r\n\t\t\t\t\tskuArray.push(skuValues)\r\n\t\t\t\t})\r\n                this.skuArray = skuArray\r\n\r\n\t\t\t\tthis.invalidSkuList = this.verify() // 获取失效sku列表invalidList\r\n                let invalidSkuIndexList = [] // 获取失效sku列表invalidList 的索引\r\n\t\t\t    this.invalidSkuList.forEach((o)=>{ \r\n\t\t\t\t\tlet indexList = []\r\n\t\t\t\t\to.forEach((v)=>{\r\n\t\t\t\t\t\tlet prop = JSON.parse(v)\r\n\t\t\t\t\t\tindexList.push(Array.from(attrs[prop.name]).indexOf(prop.value)) \r\n\t\t\t\t\t})\r\n\t\t\t\t\tinvalidSkuIndexList.push(JSON.stringify(indexList))\r\n\t\t\t\t})\r\n                this.invalidSkuIndexList = invalidSkuIndexList\r\n\t\t\t\tlet labelNames = Object.keys(attrs)\r\n\t\t\t\tthis.selectedIndex = new Array(this.propsList.length).fill(0)\r\n\t\t\t\tthis.selectedGoodsAttrList.forEach((o)=>{\r\n                    let i = labelNames.indexOf(o.name)\r\n                    this.selectedIndex[i] = this.propsList[i].values.indexOf(o.value) \r\n\t\t\t\t})\r\n                this.$emit('select', this.goodsDetail, this.selectedGoodsAttrList)\r\n\t\t\t}) \r\n        },\r\n        onSelect(i,j){\r\n            if(!this.isInvalid(i,j)){\r\n                this.selectedIndex[i]=j\r\n                let attr = new Array()\r\n                let selectedGoodsAttrList = []\r\n                this.propsList.forEach((o, index)=>{\r\n                    let res = {name: o.name, value: o.values[this.selectedIndex[index]]}\r\n                    selectedGoodsAttrList.push(res)\r\n                    attr.push(JSON.stringify(res))\r\n                })\r\n                this.selectedGoodsAttrList = selectedGoodsAttrList\r\n                let skuIndex = this.skuList.findIndex(o=>{\r\n                    let intersection = o.selectedGoodsAttrList.filter((v) =>\r\n                    attr.includes(JSON.stringify(v))) //计算交集  \r\n                    return intersection.length === attr.length\r\n                })\r\n                this.goodsDetail = this.skuList[skuIndex]\r\n                this.$emit('select', this.goodsDetail, this.selectedGoodsAttrList)\r\n            }else{\r\n                this.tui.toast('该规格已售罄')\r\n            }\r\n        },\r\n        isInvalid(i,j){\r\n            let selectedIndex = JSON.parse(JSON.stringify(this.selectedIndex))\r\n            selectedIndex[i]=j\r\n            return this.invalidSkuIndexList.includes(JSON.stringify(selectedIndex))\r\n        },\r\n        // 计算商品sku笛卡尔积\r\n        calcDescartes(array) {\r\n            if (array.length < 2) return array[0].map((o)=>{return new Array(o)}) || [];\r\n            return array.reduce((total, currentValue) => {\r\n                let res = [];\r\n                total.forEach(t => {\r\n                    currentValue.forEach(cv => {\r\n                        if (t instanceof Array) // 或者使用 Array.isArray(t)\r\n                        res.push([...t, cv]);\r\n                        else\r\n                        res.push([t, cv]);\r\n                    })\r\n                })\r\n                return res;\r\n            })\r\n        },\r\n        //验证商品sku是否失效\r\n        verify(){\r\n            let res = []\r\n            let descartes = this.calcDescartes(this.skuArray)\r\n            descartes.forEach((m)=>{\r\n                let attr = []\r\n                m.forEach((n)=>{attr.push(JSON.stringify(n))})\r\n                let skuIndex = this.skuList.findIndex(o=>{\r\n                let intersection = o.selectedGoodsAttrList.filter((v) =>\r\n                    attr.includes(JSON.stringify(v)))   \r\n                return intersection.length === attr.length})\r\n                if(skuIndex===-1){\r\n                    res.push(attr)\r\n                }\r\n            })\r\n            return res\r\n        },\r\n        hidePopup: function() {\r\n            this.popupShow = false;\r\n        },\r\n        change: function(e) {\r\n            this.buyNum = e.value;\r\n        },\r\n        addCart() {\r\n            let newGoods = {\r\n                id: this.goodsDetail.id,\r\n                spu_id: this.goodsDetail.spu_id,\r\n                price: this.goodsDetail.price,\r\n                integerPrice: this.goodsDetail.integerPrice,\r\n                decimalPrice: this.goodsDetail.decimalPrice,\r\n                title: this.goodsDetail.title,\r\n                slogan: this.goodsDetail.slogan,\r\n                defaultImageUrl: this.goodsDetail.defaultImageUrl,\r\n                propertyList: this.selectedGoodsAttrList,\r\n                buyNum: this.buyNum,\r\n            }\r\n            if(!this.tui.isLogin()) {\r\n                uni.navigateTo({url: '/pages/my/login/login'})\r\n            }else{\r\n                let url = '/updateCustomer/' + uni.getStorageSync(\"pid\") +'/addCart'\r\n                this.tui.request(url, 'PUT', {'newGoods': newGoods}).then(res=>{\r\n                        if(res.code==='0'){\r\n                            this.$emit('add', newGoods)\r\n                            this.tui.toast('成功添加到购物车')\r\n                        }\r\n                    }\r\n                )\r\n\r\n            }\r\n            this.popupShow = false;\r\n        },\r\n        submit() {\r\n            this.popupShow = false;\r\n            let goods = [{\r\n                id: this.goodsDetail.id,\r\n                spu_id: this.goodsDetail.spu_id,\r\n                price: this.goodsDetail.price,\r\n                integerPrice: this.goodsDetail.integerPrice,\r\n                decimalPrice: this.goodsDetail.decimalPrice,\r\n                title: this.goodsDetail.title,\r\n                slogan: this.goodsDetail.slogan,\r\n                defaultImageUrl: this.goodsDetail.defaultImageUrl,\r\n                propertyList: this.selectedGoodsAttrList,\r\n                buyNum: this.buyNum,\r\n            }]\r\n            let url = '/pages/order/submitOrder/submitOrder?goods=' + JSON.stringify(goods)\r\n            this.tui.href(url, true);\r\n        },\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n    .tui-popup-box {\r\n        position: relative;\r\n        padding: 30rpx 0 100rpx 0;\r\n        .tui-padding {\r\n            padding: 0 30rpx;\r\n            box-sizing: border-box;\r\n        }\r\n        .tui-price-box{\r\n            flex-direction: column;\r\n            margin-left: 20rpx;\r\n            display: flex;\r\n            justify-content: space-between;\r\n        }\r\n        .tui-popup-price {\r\n            padding-bottom: 8rpx;\r\n        }\r\n        .tui-product-box {\r\n            display: flex;\r\n            flex-direction: row;\r\n            font-size: 24rpx;\r\n            padding-bottom: 30rpx;\r\n        }\r\n        .tui-popup-img {\r\n            height: 200rpx;\r\n            width: 200rpx;\r\n            border-radius: 24rpx;\r\n            display: block;\r\n        }\r\n\r\n        .tui-popup-price {\r\n            padding-bottom: 8rpx;\r\n        }\r\n\r\n        .tui-amount {\r\n            color: #ff201f;\r\n            font-size: 36rpx;\r\n        }\r\n        .tui-number {\r\n            font-size: 24rpx;\r\n            line-height: 24rpx;\r\n            padding-top: 12rpx;\r\n            color: #999;\r\n        }\r\n    }\r\n    .tui-popup-scroll {\r\n\t\tmax-height: 600rpx;\r\n\t\tfont-size: 26rpx;\r\n\t\t.tui-scrollview-box {\r\n\t\t\tpadding: 0 30rpx 60rpx 30rpx;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\t.tui-attr-title {\r\n\t\t\t\tpadding: 10rpx 0;\r\n\t\t\t\tcolor: #333;\r\n\t\t\t}\r\n\t\t\t.tui-attr-box {\r\n\t\t\t\tfont-size: 0;\r\n\t\t\t\tpadding: 20rpx 0;\r\n                flex-direction: row;\r\n\t\t\t\t.tui-attr-item {\r\n\t\t\t\t\tmax-width: 100%;\r\n\t\t\t\t\tmin-width: 200rpx;\r\n\t\t\t\t\theight: 64rpx;\r\n\t\t\t\t\tdisplay: -webkit-inline-flex;\r\n\t\t\t\t\tdisplay: inline-flex;\r\n                    flex-direction: row;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\tbackground: #f7f7f7;\r\n\t\t\t\t\tpadding: 0 26rpx;\r\n\t\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\t\tborder-radius: 32rpx;\r\n\t\t\t\t\tmargin-right: 20rpx;\r\n\t\t\t\t\tmargin-bottom: 20rpx;\r\n\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t}\r\n\t\t\t\t.tui-attr-active {\r\n\t\t\t\t\tbackground: #fcedea;\r\n\t\t\t\t\tcolor: #e41f19;\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\tposition: relative;\r\n\t\t\t\t\t&::after {\r\n\t\t\t\t\t\tcontent: '';\r\n\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\tborder: 1rpx solid #e41f19;\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\theight: 100%;\r\n\t\t\t\t\t\tborder-radius: 40rpx;\r\n\t\t\t\t\t\tleft: 0;\r\n\t\t\t\t\t\ttop: 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t&.invalid::after{\r\n\t\t\t\t\t\tdisplay: none;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t.invalid {\r\n\t\t\t\t\tcolor: #888;\r\n\t\t\t\t\topacity: 0.5;\r\n\t\t\t\t\tbackground: #f7f7f7;\r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t\t}\r\n\r\n    }\r\n\t.tui-operation {\r\n\t\twidth: 100%;\r\n\t\theight: 100rpx;\r\n\t\tbackground: rgba(255, 255, 255, 0.98);\r\n\t\tposition: fixed;\r\n\t\tdisplay: flex;\r\n        flex-direction: row;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\tz-index: 10;\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t\tpadding-bottom: env(safe-area-inset-bottom);\r\n\t}\r\n\t.tui-operation::before {\r\n\t\tcontent: '';\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tright: 0;\r\n\t\tleft: 0;\r\n\t\tborder-top: 1rpx solid #eaeef1;\r\n\t\t-webkit-transform: scaleY(0.5);\r\n\t\ttransform: scaleY(0.5);\r\n\t}\r\n\r\n\t.tui-operation-right {\r\n\t\theight: 100rpx;\r\n\t\tpadding: 0 12rpx;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\r\n\t.tui-right-flex {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n        flex-direction: row;\r\n\t\tjustify-content: center;\r\n\t}\r\n    .tui-right {\r\n\t\tposition: absolute;\r\n\t\tright: 30rpx;\r\n\t\ttop: 30rpx;\r\n\t}\r\n\t.tui-flex-1 {\r\n\t\tflex: 1;\r\n\t\tpadding: 6rpx;\r\n\t}\r\n    .tui-popup-btn {\r\n        width: 100%;\r\n        position: absolute;\r\n        left: 0;\r\n        bottom: 0;\r\n    }\r\n</style>","import mod from \"-!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addCart.vue?vue&type=style&index=0&id=94670432&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addCart.vue?vue&type=style&index=0&id=94670432&lang=less&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1657069955070\n      var cssReload = require(\"D:/Program/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}