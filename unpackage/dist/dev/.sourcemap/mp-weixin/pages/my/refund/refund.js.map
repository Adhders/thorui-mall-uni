{"version":3,"sources":["uni-app:///main.js","webpack:///D:/Project/ThorUI-mall-uni/pages/my/refund/refund.vue?a493","webpack:///D:/Project/ThorUI-mall-uni/pages/my/refund/refund.vue?719a","webpack:///D:/Project/ThorUI-mall-uni/pages/my/refund/refund.vue?6df8","webpack:///D:/Project/ThorUI-mall-uni/pages/my/refund/refund.vue?7da5","uni-app:///pages/my/refund/refund.vue","webpack:///D:/Project/ThorUI-mall-uni/pages/my/refund/refund.vue?0017","webpack:///D:/Project/ThorUI-mall-uni/pages/my/refund/refund.vue?e74d"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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A,OAFA,MAEA;AACA;AACA;AACA;AACA,KA7BA;AA8BA,aA9BA,qBA8BA,CA9BA,EA8BA;AACA;AACA;AACA;AACA,KAlCA;AAmCA,cAnCA,sBAmCA,CAnCA,EAmCA;AACA;AACA;AACA;AACA,0BADA;AAEA,0BAFA;AAGA,wBAHA,EADA;;AAMA;AACA,sBADA;AAEA,0BAFA;AAGA,wBAHA,EANA;AAUA;AACA,sBADA;AAEA,0BAFA;AAGA,wBAHA,EAVA;;AAeA;AACA,0BADA;AAEA,0BAFA;AAGA,wBAHA;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAFA,EAEA,GAFA;AAGA,WAjBA;;AAmBA,SArBA,MAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mEAfA,CAeA;AACA;AACA;AACA;AACA,WArBA;;AAuBA;AACA,OApDA,MAoDA;AACA;AACA,yBADA;AAEA,sBAFA;;AAIA;AACA,KAzHA,EAzGA,E;;;;;;;;;;;;;AC5FA;AAAA;AAAA;AAAA;AAAitC,CAAgB,woCAAG,EAAC,C;;;;;;;;;;;ACAruC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/my/refund/refund.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/my/refund/refund.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./refund.vue?vue&type=template&id=ec971576&\"\nvar renderjs\nimport script from \"./refund.vue?vue&type=script&lang=js&\"\nexport * from \"./refund.vue?vue&type=script&lang=js&\"\nimport style0 from \"./refund.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/my/refund/refund.vue\"\nexport default component.exports","export * from \"-!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./refund.vue?vue&type=template&id=ec971576&\"","var components\ntry {\n  components = {\n    tuiListCell: function() {\n      return import(\n        /* webpackChunkName: \"components/thorui/tui-list-cell/tui-list-cell\" */ \"@/components/thorui/tui-list-cell/tui-list-cell.vue\"\n      )\n    },\n    tuiTextarea: function() {\n      return import(\n        /* webpackChunkName: \"components/thorui/tui-textarea/tui-textarea\" */ \"@/components/thorui/tui-textarea/tui-textarea.vue\"\n      )\n    },\n    tuiUpload: function() {\n      return import(\n        /* webpackChunkName: \"components/thorui/tui-upload/tui-upload\" */ \"@/components/thorui/tui-upload/tui-upload.vue\"\n      )\n    },\n    tuiButton: function() {\n      return import(\n        /* webpackChunkName: \"components/thorui/tui-button/tui-button\" */ \"@/components/thorui/tui-button/tui-button.vue\"\n      )\n    },\n    tuiBottomPopup: function() {\n      return import(\n        /* webpackChunkName: \"components/thorui/tui-bottom-popup/tui-bottom-popup\" */ \"@/components/thorui/tui-bottom-popup/tui-bottom-popup.vue\"\n      )\n    },\n    tuiIcon: function() {\n      return import(\n        /* webpackChunkName: \"components/thorui/tui-icon/tui-icon\" */ \"@/components/thorui/tui-icon/tui-icon.vue\"\n      )\n    },\n    tuiRadioGroup: function() {\n      return import(\n        /* webpackChunkName: \"components/thorui/tui-radio-group/tui-radio-group\" */ \"@/components/thorui/tui-radio-group/tui-radio-group.vue\"\n      )\n    },\n    tuiLabel: function() {\n      return import(\n        /* webpackChunkName: \"components/thorui/tui-label/tui-label\" */ \"@/components/thorui/tui-label/tui-label.vue\"\n      )\n    },\n    tuiRadio: function() {\n      return import(\n        /* webpackChunkName: \"components/thorui/tui-radio/tui-radio\" */ \"@/components/thorui/tui-radio/tui-radio.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.displayList, function(item, index) {\n    var $orig = _vm.__get_orig(item)\n\n    var g0 = index.toString()\n    return {\n      $orig: $orig,\n      g0: g0\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./refund.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./refund.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"container\">\n\t\t<view class=\"tui-order-item\">\n\t\t\t<tui-list-cell padding=\"20rpx 30rpx\" :hover=\"false\" :lineLeft=\"false\">\n\t\t\t\t<view class=\"tui-goods-title\"><view>商品信息</view></view>\n\t\t\t</tui-list-cell>\n\t\t\t<tOrderItem :order=\"order\"></tOrderItem>\n\t\t</view>\n\t\t<form @submit=\"formSubmit\">\n\t\t\t<view class=\"tui-refund__form\">\n\t\t\t\t<tui-list-cell padding=\"0\" arrow  @click=\"onPopup('refundType')\">\n\t\t\t\t\t<view class=\"tui-line-cell\" >\n\t\t\t\t\t\t<view class=\"tui-title\">\n\t\t\t\t\t\t\t<text>申请类型</text>\n\t\t\t\t\t\t\t<text style=\"margin-left: 20rpx\">{{ruleForm.refundType}}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</tui-list-cell>\n\t\t\t\t<tui-list-cell padding=\"0\" arrow @click=\"onPopup\">\n\t\t\t\t\t<view class=\"tui-line-cell\">\n\t\t\t\t\t\t<view class=\"tui-title\">\n\t\t\t\t\t\t\t<text>申请原因</text>\n\t\t\t\t\t\t\t<text style=\"margin-left: 20rpx\" :class=\"{'tui-phcolor': ruleForm.reason===''}\">\n\t\t\t\t\t\t\t\t{{ruleForm.reason? ruleForm.reason : '请选择退款原因' }}\n\t\t\t\t\t\t\t</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</tui-list-cell>\n\t\t\t\t<tui-list-cell :hover=\"false\" padding=\"0\" v-if=\"ruleForm.refundType==='退货退款'\">\n\t\t\t\t\t<view class=\"tui-line-cell tui-order-item\">\n\t\t\t\t\t\t<view class=\"tui-title\">\n\t\t\t\t\t\t\t<text>退款金额</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"refund_amount\"  style=\"margin-left: 20rpx\">￥</view>\n\t\t\t\t\t\t<input placeholder-class=\"tui-phcolor\" class=\"tui-input refund_amount\" name=\"refund_fee\" v-model=\"ruleForm.refund_fee\" />\n\t\t\t\t\t</view>\n\t\t\t\t</tui-list-cell>\n\t\t\t\t<view class=\"tui-line-cell tui-max-amount\" v-if=\"!range\">\n\t\t\t\t\t<text>最大退款金额：</text>\n\t\t\t\t\t<text>￥{{order.netCost}} </text>\n\t\t\t\t</view>\n\t\t\t\t<tui-list-cell :hover=\"false\" padding=\"0\">\n\t\t\t\t\t<view class=\"tui-line-cell tui-order-item descption-box\">\n\t\t\t\t\t\t<view class=\"tui-title\">\n\t\t\t\t\t\t\t<text>申请说明</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view style=\"color: #cccccc\">您还可以输入{{count}}字</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<tui-textarea v-model=\"ruleForm.detail\" placeholder-class=\"tui-phcolor\" :size=\"28\" maxlength=150\n\t\t\t\t\t\t:borderBottom=\"false\" :textareaBorder=\"false\" :borderTop=\"false\" name=\"detail\" placeholder=\"请填写申请说明\"/>\n\t\t\t\t\t<view class=\"upload-image\">\n\t\t\t\t\t\t<tui-upload :serverUrl=\"action\"\n\t\t\t\t\t\t\t:formData=\"formData\"\n\t\t\t\t\t\t\t:width = width\n\t\t\t\t\t\t\t:height = width\n\t\t\t\t\t\t\t@complete=\"onSuccess\">\n\t\t\t\t\t\t</tui-upload>\n\t\t\t\t\t</view>\n\t\t\t\t</tui-list-cell>\n\t\t\t</view>\n\t\t\t<view class=\"tui-btn__box\">\n\t\t\t\t<tui-button height=\"88rpx\" type=\"danger\" shadow shape=\"circle\" formType=\"submit\" :disabled=\"!first\">提交申请</tui-button>\n\t\t\t</view>\n\t\t</form>\n\t\t<tui-bottom-popup :show=\"popupShow\" @close=\"hidePopup\" style=\"z-index: 1000;\">\n\t\t\t<view class=\"tui-popup-box\">\n\t\t\t\t<view class=\"tui-right\">\n\t\t\t\t\t<tui-icon name=\"close-fill\" color=\"#999\" :size=\"20\"  @click=\"hidePopup\"></tui-icon>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"reason-header\">{{choice==='refundType'? '请选择售后类型' : '请选择申请原因'}}</view>\n\t\t\t\t<scroll-view scroll-y class=\"tui-popup-scroll\">\n\t\t\t\t\t<view class=\"tui-scrollview-box\">\n\t\t\t\t\t\t<tui-radio-group @change=\"radioChange\">\n\t\t\t\t\t\t\t<tui-label v-for=\"(item,index) in displayList\" :key=\"index\" class=\"reason-item\">\n\t\t\t\t\t\t\t\t<view class=\"thorui-flex__between\">\n\t\t\t\t\t\t\t\t\t<text class=\"tui-text\">{{item.name}}</text>\n\t\t\t\t\t\t\t\t\t<tui-radio isCheckMark checkMarkColor=\"#07c160\" :scaleRatio=\"1.3\" :checked=\"item.checked\"\n\t\t\t\t\t\t\t\t\t\t:value=\"index.toString()\">\n\t\t\t\t\t\t\t\t\t</tui-radio>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</tui-label>\n\t\t\t\t\t\t</tui-radio-group>\n\t\t\t\t\t</view>\n\t\t\t\t</scroll-view>\n\t\t\t</view>\n\t\t</tui-bottom-popup>\n\t</view>\n</template>\n\n<script>\nimport form from \"@/components/common/tui-validation/tui-validation.js\"\nimport tOrderItem from '@/components/views/t-order-item/t-order-item'\nexport default {\n\tcomponents: {\n\t\ttOrderItem\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tedit: false,\n\t\t\trepeat: false,\n\t\t\tfocus: false,\n\t\t\tfirst: true,\n\t\t\trange: true, //退款金额是否合理，是否超过netCost\n\t\t\torder: {},\n\t\t\twidth: '',\n\t\t\tchoice: 'refundType',\n\t\t\tformData: {},\n\t\t\tbucket_image: 'chuangbiying-review',\n\t\t\taction: 'https://up-cn-east-2.qiniup.com',\n\t\t\truleForm: {\n\t\t\t\timgs: '',\n        \t\trefund_fee: '',\n\t\t\t\tdetail: '',\n\t\t\t\trefundType: '退货退款',\n\t\t\t\treason: '',\t\n\t\t\t},\n\t\t\tpopupShow: false,\n\t\t\tdisplayList: [],\n\t\t\ttypeList: [\n\t\t\t\t{name: '换货', checked: false},\n\t\t\t\t{name: '退货退款', checked: false},\n\t\t\t],\n\t\t\treasonList: [\n\t\t\t\t{name: '多拍、错拍、不喜欢', checked: false},\n\t\t\t\t{name: '不喜欢、效果不好', checked: false},\n\t\t\t\t{name: '材质与商品描述不符', checked: false},\n\t\t\t\t{name: '大小尺寸与商品不符', checked: false},\n\t\t\t\t{name: '颜色、款式、型号与描述不符', checked: false},\n\t\t\t\t{name: '质量问题', checked: false},\n\t\t\t\t{name: '做工粗糙、有瑕疵', checked: false},\n\t\t\t\t{name: '收到商品少件、破损或污渍', checked: false},\n\t\t\t\t{name: '商家发错货', checked: false},\n\t\t\t\t{name: '假冒品牌', checked: false},\n\t\t\t\t{name: '其它', checked: false},\n\t\t\t],\n\t\t\tgoodsList: []\n\t\t};\n\t},\n\tonLoad(options){\n\t\tthis.repeat = options.repeat\n\t\tthis.edit = options.edit\n\t\tthis.order = JSON.parse(decodeURIComponent(options.order))\n\t\tif(this.edit){\n\t\t\tthis.ruleForm.imgs = this.order.imgs\n\t\t\tthis.ruleForm.detail = this.order.detail\n\t\t\tthis.ruleForm.refundType = this.order.refundType\n\t\t\tthis.ruleForm.refund_fee = this.order.refund_fee\n\t\t\tthis.ruleForm.reason = this.order.reason\n\t\t}else{\n\t\t\tthis.ruleForm.refund_fee = this.order.netCost\n\t\t\tthis.ruleForm.refundType = options.refundType\n\t\t}\n\t\t//将系统宽度px转换为rpx\n\t\tlet systemWidth = getApp().globalData.windowWidth/(uni.upx2px(100)/100)\n\t\t// 100为页面两边的距离加上图片间隔\n\t\tthis.width = (systemWidth-100)/3\n\t\tvar url =  '/upload/token/' + this.bucket_image\n\t\tthis.tui.request(url)\n\t\t\t.then(response => {\n\t\t\t\tthis.uptoken=response.token\n\t\t\t\tthis.formData={'token': this.uptoken}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.log(error.response)\n\t\t\t}\n\t\t)\n\t},\n\tcomputed: {\n\t\tcount(){\n\t\t\treturn 150-this.getCount(this.ruleForm.detail.length)\n\t\t},\n\t\trefundList(){\n\t\t\treturn this.$store.state.refundList\n\t\t},\n\t\torderList(){\n\t\t\treturn this.$store.state.orderList\n\t\t}\n\t},\n\twatch: {\n\t\t'ruleForm.refund_fee': function(v){\n\t\t\tif(v > this.order.netCost){\n\t\t\t\tthis.range=false\n\t\t\t\tthis.tui.toast(\"退款金额不能大于最大退款金额\")\n\t\t\t}else{\n\t\t\t\tthis.range=true\n\t\t\t}\n\t\t}\n\t},\n\tfilters: {\n\t\tgetProperty(attr) {\n\t\t\tlet str = ''\n\t\t\tattr.forEach(o=>{\n\t\t\t\tstr = str + o.value + '，'\n\t\t\t})\n\t\t\treturn str.slice(0,-1)\n\t\t},\n\t},\n\tmethods: {\n\t\thidePopup(){\n\t\t\tthis.popupShow = false\n\t\t},\n\t\tdetail(order) {\n     \t \tthis.$store.commit('setTargetOrder', order)\n      \t\tuni.navigateTo({\n        \t\turl: '/pages/my/orderDetail/orderDetail'\n\t\t\t})\n\t\t},\n\t\tgetCount(count) {\n\t\t\tconst max = Number(this.maxlength)\n\t\t\tif (count > max) {\n\t\t\t\treturn max\n\t\t\t}\n\t\t\treturn count;\n\t\t},\n\t\tonPopup(o){\n\t\t\tthis.popupShow=true\n\t\t\tthis.choice = o\n\t\t\tthis.displayList = (o==='refundType')?  this.typeList : this.reasonList\n\t\t},\n\t\tradioChange(e){\n\t\t\tif(this.choice === 'refundType'){\n\t\t\t\tthis.ruleForm.refundType = this.typeList[e.detail.value].name\n\t\t\t}else {\n\t\t\t\tthis.ruleForm.reason = this.reasonList[e.detail.value].name\n\t\t\t}\n\t\t\tthis.hidePopup()\n\t\t},\n\t\tonSuccess(v){\n\t\t\tif(v.status===1){\n\t\t\t\tthis.ruleForm.imgs = v.keyList\n\t\t\t}\n\t\t},\n\t\tformSubmit(e){\n\t\t//表单规则\n\t\t\tlet rules = [\n\t\t\t\t{\n\t\t\t\tname: \"refundType\",\n\t\t\t\trule: [\"required\"], \n\t\t\t\tmsg: [\"请选择售后类型\"]\n\t\t\t}, \n\t\t\t{\n\t\t\t\tname: \"reason\",\n\t\t\t\trule: [\"required\"],\n\t\t\t\tmsg: [\"请选择退款原因\"]\n\t\t\t},{\n\t\t\t\tname: \"detail\",\n\t\t\t\trule: [\"required\"],\n\t\t\t\tmsg: [\"请填写申请说明\"]\n\t\t\t}];\n\t\t\tlet extra = {\n\t\t\t\tname: \"refund_fee\",\n\t\t\t\trule: [\"required\"],\n\t\t\t\tmsg: [\"请输入退款金额\"]\n\t\t\t}\n\t\t\tif(this.ruleForm.refundType==='退货退款'){\n\t\t\t\trules.splice(2, 0, extra)\n\t\t\t}\n\t\t\t//进行表单检查\n\t\t\tlet formData = this.ruleForm\n\t\t\tlet checkRes = this.range? form.validation(formData, rules) : \"退款金额不能大于最大退款金额\";\n\t\t\tif(!checkRes){\n\t\t\t\tthis.first=false\n\t\t\t\tlet pid = uni.getStorageSync(\"pid\")\n\t\t\t\tlet appid = this.$store.state.appid\n\t\t\t\tlet orderNum = this.order.orderNum\n\t\t\t\tif(this.edit){\n\t\t\t\t\tlet url = '/updateRefundOrders/' + this.order.refundNum + '/edit'\n\t\t\t\t\tthis.tui.request(url, 'PUT', this.ruleForm).then(\n\t\t\t\t\t\t(res) =>{\n\t\t\t\t\t\t\tlet obj = Object.assign({},this.order, this.ruleForm)\n\t\t\t\t\t\t\tlet orderIndex = this.orderList.findIndex((o)=>{ return o.orderNum === this.order.orderNum})\n\t\t\t\t\t\t\tif(orderIndex !==-1){\n\t\t\t\t\t\t\t\tlet refundList = this.orderList[orderIndex].refundList\n\t\t\t\t\t\t\t\tlet index = refundList.findIndex((o)=>{\n\t\t\t\t\t\t\t\t\treturn o.refundNum === this.order.refundNum\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tthis.$set(refundList, index, obj)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlet index = this.refundList.findIndex((o)=>{return o.refundNum === obj.refundNum})\n\t\t\t\t\t\t\tthis.$set(this.refundList, index, obj)\n\t\t\t\t\t\t\tthis.tui.toast(\"更新成功\")\n\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\tuni.navigateBack({delta: 1})\n\t\t\t\t\t\t\t}, 500);\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\t\t\t\t}else{\n\t\t\t\t\tlet url = '/addRefundOrder/' + pid + '/' + appid + '/' + orderNum\n\t\t\t\t\tthis.tui.request(url, 'POST', this.ruleForm).then(\n\t\t\t\t\t\t(res) =>{\n\t\t\t\t\t\t\tif(res.code==='0'){\n\t\t\t\t\t\t\t\tlet index = this.orderList.findIndex((o)=>{return o.orderNum === this.order.orderNum})\n\t\t\t\t\t\t\t\tif(index!==-1){\n\t\t\t\t\t\t\t\t\tthis.orderList[index].status=res.refundOrder.status\n\t\t\t\t\t\t\t\t\tthis.orderList[index].refundList.unshift(res.refundOrder)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif(this.repeat){ //更新旧的refundOrder\n\t\t\t\t\t\t\t\t\tlet index = this.refundList.findIndex((o)=>{return o.refundNum === this.order.refundNum})\n\t\t\t\t\t\t\t\t\tif(index!==-1){\n\t\t\t\t\t\t\t\t\t\tthis.refundList[index].refundList.unshift(res.refundOrder)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthis.$store.state.orderState[5]+=1\t\n\t\t\t\t\t\t\t\tthis.order.refundList.unshift(res.refundOrder)\t\n\t\t\t\t\t\t\t\tthis.refundList.unshift(Object.assign({}, this.order, res.refundOrder))\n\t\t\t\t\t\t\t\tlet delta = (this.repeat==='refundDetail')? 3: 2  //判断是否从退款详情页发起的重新申请\n\t\t\t\t\t\t\t\tuni.navigateBack({delta: delta})\n\t\t\t\t\t\t\t\tthis.tui.toast(\"申请售后成功\")\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: checkRes,\n\t\t\t\t\ticon: \"none\"\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n};\n</script>\n\n<style lang=\"less\">\n\n.tui-order-item {\n\tmargin-top: 20rpx;\n\tborder-radius: 10rpx;\n\toverflow: hidden;\n}\n\n.tui-goods-title {\n\twidth: 100%;\n\tfont-size: 28rpx;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n}\n\n.tui-refund__form {\n\tmargin-top: 20rpx;\n}\n.tui-line-cell {\n\twidth: 100%;\n\tpadding: 24rpx 30rpx;\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\talign-items: center;\n}\n.tui-max-amount {\n\tcolor: #e41f19; \n\tfont-size: 28rpx;\n}\n.tui-title {\n\tfont-size: 28rpx;\n\tcolor: #666;\n}\n.tui-input {\n\tmin-width: 440rpx;\n\theight: 48rpx;\n\tfont-size: 28rpx;\n}\n.tui-phcolor {\n\tcolor: #ccc;\n\tfont-size: 28rpx;\n}\n.tui-btn__box{\n\tpadding: 60rpx 30rpx;\n}\n.refund_amount{\n\tfont-size: 40rpx;\n\tfont-weight: bold;\n}\n.tui-popup-box {\n\tmin-height: 600rpx;\n\tposition: relative;\n\tpadding: 30rpx 0 0 0;\n\t.reason-header{\n\t\ttext-align: center;\n\t\tfont-size: 36rpx;\n\t\tline-height: 36rpx;\n\t\tpadding-bottom: 28rpx;\n\t\tborder-bottom: 1px solid #eaeef1;\n\t}\n\t.reason-item {\n\t\tborder-bottom: 1px solid #eaeef1;\n\t\t&:last-child {\n\t\t\tborder: 0\n\t\t}\n\t}\n\t.thorui-flex__between{\n\t\tdisplay: flex;\n\t\tfont-size: 32rpx;\n\t\tpadding: 16rpx 20rpx;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t}\n}\n.tui-right {\n\tposition: absolute;\n\tright: 30rpx;\n\ttop: 30rpx;\n}\n.tui-img__title {\n\tpadding-bottom: 24rpx;\n}\n.tui-popup-scroll {\n\tmax-height: 600rpx;\n\tfont-size: 26rpx;\n}\n.tui-scrollview-box {\n\tpadding: 0 0 60rpx 30rpx;\n\tbox-sizing: border-box;\n}\n.descption-box{\n\tpadding-bottom: 0;\n\tjustify-content: space-between;\n}\n.upload-image{\n\tpadding: 0 30rpx 30rpx;\n}\n</style>\n","import mod from \"-!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./refund.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./refund.vue?vue&type=style&index=0&lang=less&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1659414710393\n      var cssReload = require(\"D:/Program/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}