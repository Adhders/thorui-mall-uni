{"version":3,"sources":["uni-app:///main.js","webpack:///D:/Project/ThorUI-mall-uni/pages/my/myOrder/myOrder.vue?bdc7","webpack:///D:/Project/ThorUI-mall-uni/pages/my/myOrder/myOrder.vue?0e2d","webpack:///D:/Project/ThorUI-mall-uni/pages/my/myOrder/myOrder.vue?10b9","webpack:///D:/Project/ThorUI-mall-uni/pages/my/myOrder/myOrder.vue?1038","uni-app:///pages/my/myOrder/myOrder.vue","webpack:///D:/Project/ThorUI-mall-uni/pages/my/myOrder/myOrder.vue?0bbd","webpack:///D:/Project/ThorUI-mall-uni/pages/my/myOrder/myOrder.vue?1087"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,sG,6FAFmBA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC;AAGnBC,UAAU,CAACC,gBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoH;AACpH;AAC2D;AACL;AACc;;;AAGpE;AAC8K;AAC9K,gBAAgB,qLAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,kFAAM;AACR,EAAE,2FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,6MAEN;AACP,KAAK;AACL;AACA,aAAa,+NAEN;AACP,KAAK;AACL;AACA,aAAa,2OAEN;AACP,KAAK;AACL;AACA,aAAa,2OAEN;AACP,KAAK;AACL;AACA,aAAa,yNAEN;AACP,KAAK;AACL;AACA,aAAa,+NAEN;AACP,KAAK;AACL;AACA,aAAa,mNAEN;AACP,KAAK;AACL;AACA,aAAa,qOAEN;AACP,KAAK;AACL;AACA,aAAa,yNAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAAS;;AAET;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACpHA;AAAA;AAAA;AAAA;AAA2pB,CAAgB,ypBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACkI/qB;AACA,MADA,kBACA;AACA;AACA,gGADA;AAEA,oBAFA;AAGA,qBAHA;AAIA,yBAJA;AAKA,qBALA;AAMA,mBANA;AAOA,kBAPA;AAQA,mBARA;AASA,qBATA;AAUA,yBAVA;AAWA,oBAXA;AAYA,kBAZA;;AAcA,GAhBA;AAiBA,QAjBA,kBAiBA,MAjBA,EAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KANA;AAOA,GA1BA;AA2BA;AACA,aADA,uBACA;AACA;AACA,KAHA,EA3BA;;AAgCA;AACA,YADA,oBACA,KADA,EACA;AACA;AACA;AACA,KAJA;AAKA,eALA,uBAKA,IALA,EAKA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA,KAXA;AAYA,UAZA,kBAYA,SAZA,EAYA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA,KAlBA,EAhCA;;AAoDA;AACA,cADA,sBACA,CADA,EACA;AACA;AACA,KAHA,EApDA;;AAyDA;AACA,WADA,mBACA,IADA,EACA;AACA,2CADA,CACA;AACA;AACA;AACA;AACA,KANA;AAOA,aAPA,qBAOA,KAPA,EAOA;AACA;AACA,KATA;AAUA,UAVA,kBAUA,CAVA,EAUA;AACA;AACA,KAZA;AAaA,YAbA,sBAaA;AACA;AACA,KAfA;AAgBA,SAhBA,iBAgBA,KAhBA,EAgBA;AACA;AACA;AACA,KAnBA;AAoBA,aApBA,qBAoBA,CApBA,EAoBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAFA;AAGA;AACA;AACA;AACA;AACA;AACA,aAFA;AAGA;AACA;AACA;AACA;AACA;AACA,aAFA;AAGA;AACA;AACA;AACA;AACA;AACA,aAFA;AAGA;AACA,WA5BA;;AA8BA,KAnDA;AAoDA,eApDA,uBAoDA,KApDA,EAoDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAPA;AAQA,SAVA,MAUA;AACA;AACA;AACA,OAhBA;AAiBA,KAvEA;AAwEA,OAxEA,eAwEA,KAxEA,EAwEA;AACA;AACA;AACA;AACA;AACA,2BADA;AAEA,iCAFA;AAGA,+BAHA;AAIA,mCAJA;AAKA,iCALA;AAMA,+BANA;AAOA;AACA;AACA;AACA,0DAVA;AAWA;AACA;AACA,SAbA;;AAeA,KA3FA;AA4FA,UA5FA,oBA4FA;AACA;AACA,KA9FA;AA+FA,UA/FA,kBA+FA,KA/FA,EA+FA;AACA;AACA;AACA,KAlGA;AAmGA,aAnGA,qBAmGA,IAnGA,EAmGA;AACA;AACA;AACA;AACA,KAvGA;AAwGA,aAxGA,uBAwGA;AACA;AACA;AACA;AACA,KA5GA;AA6GA,YA7GA,oBA6GA,KA7GA,EA6GA;AACA;AACA;AACA,KAhHA;AAiHA,YAjHA,oBAiHA,CAjHA,EAiHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA1HA;AA2HA,UA3HA,kBA2HA,KA3HA,EA2HA;AACA;AACA;AACA,gDADA;;AAGA,KAhIA;AAiIA,iBAjIA,2BAiIA;AACA;AACA,KAnIA;AAoIA,eApIA,uBAoIA,KApIA,EAoIA,IApIA,EAoIA;AACA;AACA;AACA,sDADA;AAEA;AACA;AACA,gBADA;;AAGA,KA5IA,EAzDA;;AAuMA,mBAvMA,+BAuMA;AACA;AACA;AACA,KAFA,EAEA,GAFA;AAGA,GA3MA;AA4MA,eA5MA,2BA4MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAHA,EAGA,IAHA;AAIA,GApNA;AAqNA,cArNA,wBAqNA,CArNA,EAqNA;AACA;AACA,GAvNA,E;;;;;;;;;;;;;AClIA;AAAA;AAAA;AAAA;AAAktC,CAAgB,yoCAAG,EAAC,C;;;;;;;;;;;ACAtuC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/my/myOrder/myOrder.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/my/myOrder/myOrder.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./myOrder.vue?vue&type=template&id=25d6346a&\"\nvar renderjs\nimport script from \"./myOrder.vue?vue&type=script&lang=js&\"\nexport * from \"./myOrder.vue?vue&type=script&lang=js&\"\nimport style0 from \"./myOrder.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/my/myOrder/myOrder.vue\"\nexport default component.exports","export * from \"-!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./myOrder.vue?vue&type=template&id=25d6346a&\"","var components\ntry {\n  components = {\n    tuiTabs: function() {\n      return import(\n        /* webpackChunkName: \"components/thorui/tui-tabs/tui-tabs\" */ \"@/components/thorui/tui-tabs/tui-tabs.vue\"\n      )\n    },\n    tuiLoading: function() {\n      return import(\n        /* webpackChunkName: \"components/thorui/tui-loading/tui-loading\" */ \"@/components/thorui/tui-loading/tui-loading.vue\"\n      )\n    },\n    tuiListCell: function() {\n      return import(\n        /* webpackChunkName: \"components/thorui/tui-list-cell/tui-list-cell\" */ \"@/components/thorui/tui-list-cell/tui-list-cell.vue\"\n      )\n    },\n    tuiCountdown: function() {\n      return import(\n        /* webpackChunkName: \"components/thorui/tui-countdown/tui-countdown\" */ \"@/components/thorui/tui-countdown/tui-countdown.vue\"\n      )\n    },\n    tuiButton: function() {\n      return import(\n        /* webpackChunkName: \"components/thorui/tui-button/tui-button\" */ \"@/components/thorui/tui-button/tui-button.vue\"\n      )\n    },\n    tuiNoData: function() {\n      return import(\n        /* webpackChunkName: \"components/thorui/tui-no-data/tui-no-data\" */ \"@/components/thorui/tui-no-data/tui-no-data.vue\"\n      )\n    },\n    tuiModal: function() {\n      return import(\n        /* webpackChunkName: \"components/thorui/tui-modal/tui-modal\" */ \"@/components/thorui/tui-modal/tui-modal.vue\"\n      )\n    },\n    tuiLoadmore: function() {\n      return import(\n        /* webpackChunkName: \"components/thorui/tui-loadmore/tui-loadmore\" */ \"@/components/thorui/tui-loadmore/tui-loadmore.vue\"\n      )\n    },\n    tuiNomore: function() {\n      return import(\n        /* webpackChunkName: \"components/thorui/tui-nomore/tui-nomore\" */ \"@/components/thorui/tui-nomore/tui-nomore.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l1 = !_vm.loadding\n    ? _vm.__map(_vm.displayList, function(order, orderIndex) {\n        var $orig = _vm.__get_orig(order)\n\n        var m0 =\n          order.status === \"待支付\" ? _vm.getTime(order.create_time) : null\n\n        var l0 = _vm.__map(order.goodsList, function(item, index) {\n          var $orig = _vm.__get_orig(item)\n\n          var f0 = _vm._f(\"getProperty\")(item.propertyList)\n\n          return {\n            $orig: $orig,\n            f0: f0\n          }\n        })\n\n        var f1 = _vm._f(\"getNum\")(order.goodsList)\n\n        var g0 = order.netCost.toFixed(2).split(\".\")\n        var g1 = order.netCost.toFixed(2).split(\".\")\n        var m1 =\n          order.status === \"交易成功\" ? _vm.isVisible(order.reviewState) : null\n        return {\n          $orig: $orig,\n          m0: m0,\n          l0: l0,\n          f1: f1,\n          g0: g0,\n          g1: g1,\n          m1: m1\n        }\n      })\n    : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l1: l1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./myOrder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./myOrder.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"container\">\n\t\t<tui-tabs :tabs=\"tabs\" :isFixed=\"scrollTop>=0\" :currentTab=\"currentTab\" selectedColor=\"#E41F19\" sliderBgColor=\"#E41F19\"\n\t\t @change=\"change\"></tui-tabs>\n\t\t<!--选项卡逻辑自己实现即可，此处未做处理-->\n    \t<tui-loading v-if=\"loadding\"></tui-loading>\n\t\t<view :class=\"{'tui-order-list':scrollTop>=0}\" v-else>\n\t\t\t<view class=\"tui-order-item\" v-for=\"(order, orderIndex) in displayList\" :key=\"orderIndex\">\n\t\t\t\t<tui-list-cell :hover=\"false\" :lineLeft=\"false\">\n\t\t\t\t\t<view class=\"tui-goods-title\">\n\t\t\t\t\t\t<view>订单号：{{order.orderNum}}</view>\n\t\t\t\t\t\t<view class=\"tui-countdown__box\" v-if=\"order.status==='待支付'\">\n\t\t\t\t\t\t\t<view class=\"tui-countdown__title\">待付款</view>\n\t\t\t\t\t\t\t<view class=\"tui-flex__center\">\n\t\t\t\t\t\t\t\t<tui-countdown :time=\"getTime(order.create_time)\" backgroundColor=\"transparent\" borderColor=\"transparent\" color=\"#EB0909\" colonColor=\"#EB0909\" @end=\"onEnd(order)\"></tui-countdown>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"tui-order-status\" v-else >{{order.status}}</view>\n\t\t\t\t\t</view>\n\t\t\t\t</tui-list-cell>\n\t\t\t\t<block v-for=\"(item,index) in order.goodsList\" :key=\"index\">\n\t\t\t\t\t<tui-list-cell padding=\"0\" @tap=\"detail(order)\">\n\t\t\t\t\t\t<view class=\"tui-goods-item\">\n\t\t\t\t\t\t\t<image :src=item.defaultImageUrl class=\"tui-goods-img\"></image>\n\t\t\t\t\t\t\t<view class=\"tui-goods-center\">\n\t\t\t\t\t\t\t\t<view class=\"tui-goods-name\">{{item.title}}</view>\n\t\t\t\t\t\t\t\t<view class=\"tui-goods-attr\">{{item.propertyList | getProperty}}</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"tui-price-right\">\n\t\t\t\t\t\t\t\t<view>￥{{item.price}}</view>\n\t\t\t\t\t\t\t\t<view>x{{item.buyNum}}</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</tui-list-cell>\n\t\t\t\t</block>\n\t\t\t\t<tui-list-cell :hover=\"false\" unlined>\n\t\t\t\t\t<view class=\"tui-goods-price\">\n\t\t\t\t\t\t<view>共{{order.goodsList | getNum}}件商品 实付：</view>\n\t\t\t\t\t\t<view class=\"tui-size-24\">￥</view>\n\t\t\t\t\t\t<view class=\"tui-price-large\">{{order.netCost.toFixed(2).split('.')[0]}}</view>\n\t\t\t\t\t\t<view class=\"tui-size-24\">.{{order.netCost.toFixed(2).split('.')[1]}}</view>\n\t\t\t\t\t</view>\n\t\t\t\t</tui-list-cell>\n\t\t\t\t<view class=\"tui-order-btn\">\n<!--\t\t\t\t\t<view class=\"tui-btn-ml\">-->\n<!--\t\t\t\t\t\t<tui-button type=\"black\" plain width=\"152rpx\" height=\"56rpx\" :size=\"26\" shape=\"circle\" @click=\"invoiceDetail\">查看发票</tui-button>-->\n<!--\t\t\t\t\t</view>-->\n\t\t\t\t\t<block v-if=\"order.status==='交易关闭'\">\n\t\t\t\t\t\t<view class=\"tui-btn-ml\">\n\t\t\t\t\t\t\t<tui-button type=\"black\" plain width=\"152rpx\" height=\"56rpx\" :size=\"26\" shape=\"circle\" @tap=\"onDelete(order)\">删除订单</tui-button>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</block>\n\t\t\t\t\t<block v-if=\"order.status==='待支付'\">\n\t\t\t\t\t\t<view class=\"tui-btn-ml\">\n\t\t\t\t\t\t\t<tui-button type=\"black\" plain width=\"152rpx\" height=\"56rpx\" :size=\"26\" shape=\"circle\" @tap=\"cancelOrder(order)\">取消订单</tui-button>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"tui-btn-ml\">\n\t\t\t\t\t\t\t<tui-button type=\"danger\" plain width=\"152rpx\" height=\"56rpx\" :size=\"26\" shape=\"circle\" @click=\"pay(order)\">去支付</tui-button>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</block>\n\t\t\t\t\t<block v-if=\"order.status==='待发货'\">\n\t\t\t\t\t\t<view class=\"tui-btn-ml\">\n\t\t\t\t\t\t\t<tui-button type=\"black\" plain width=\"152rpx\" height=\"56rpx\" :size=\"26\" shape=\"circle\" @tap=\"refund(order)\">申请退款</tui-button>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"tui-btn-ml\">\n\t\t\t\t\t\t\t<tui-button type=\"danger\" plain width=\"152rpx\" height=\"56rpx\" :size=\"26\" shape=\"circle\" @click=\"remind\">催发货</tui-button>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</block>\n\t\t\t\t\t<block v-if=\"order.status==='待收货'\">\n\t\t\t\t\t\t<view class=\"tui-btn-ml\">\n\t\t\t\t\t\t\t<tui-button type=\"black\" plain width=\"152rpx\" height=\"56rpx\" :size=\"26\" shape=\"circle\" @click=\"refund(order)\">申请退款</tui-button>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"tui-btn-ml\">\n\t\t\t\t\t\t\t<tui-button type=\"black\"  plain width=\"152rpx\" height=\"56rpx\" :size=\"26\" shape=\"circle\">再次购买</tui-button>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"tui-btn-ml\">\n\t\t\t\t\t\t\t<tui-button type=\"danger\" plain width=\"152rpx\" height=\"56rpx\" :size=\"26\" shape=\"circle\" @click=\"onReceipt(order)\">确认收货</tui-button>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</block>\n\t\t\t\t\t<block v-if=\"order.status==='交易成功'\">\n\t\t\t\t\t\t<view class=\"tui-btn-ml\">\n\t\t\t\t\t\t\t<tui-button type=\"black\" plain width=\"152rpx\" height=\"56rpx\" :size=\"26\" shape=\"circle\" @click=\"refund(order)\">退换/售后</tui-button>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"tui-btn-ml\" v-if=\"isVisible(order.reviewState)\">\n\t\t\t\t\t\t\t<tui-button type=\"black\" plain width=\"152rpx\" height=\"56rpx\" :size=\"26\" shape=\"circle\" @click=\"addEvaluate(order, 'additional')\">追加评价</tui-button>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"tui-btn-ml\">\n\t\t\t\t\t\t\t<tui-button type=\"danger\"  plain width=\"152rpx\" height=\"56rpx\" :size=\"26\" shape=\"circle\">再次购买</tui-button>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</block>\n\t\t\t\t\t<block v-if=\"order.status==='待评价'\">\n\t\t\t\t\t\t<view class=\"tui-btn-ml\">\n\t\t\t\t\t\t\t<tui-button type=\"black\" plain width=\"152rpx\" height=\"56rpx\" :size=\"26\" shape=\"circle\" @click=\"refund(order)\">退换/售后</tui-button>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"tui-btn-ml\">\n\t\t\t\t\t\t\t<tui-button type=\"black\"  plain width=\"152rpx\" height=\"56rpx\" :size=\"26\" shape=\"circle\">再次购买</tui-button>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"tui-btn-ml\">\n\t\t\t\t\t\t\t<tui-button type=\"danger\" plain width=\"152rpx\" height=\"56rpx\" :size=\"26\" shape=\"circle\" @click=\"addEvaluate(order, 'first')\">评价</tui-button>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</block>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<tui-no-data v-if=\"displayList.length===0\" :fixed=\"false\"\n\t\t\t\t\t\t imgUrl=\"https://system.chuangbiying.com/static/images/index/img_noorder.png\">\n\t\t\t\t您还没有相关的订单</tui-no-data>\n\t\t</view>\n\t\t<tui-modal :show=\"isShow\" @cancel=\"onCancel\" :custom=\"true\">\n\t\t\t<view class=\"tui-modal-custom\">\n\t\t\t\t<image :src=selectedImg class=\"tui-tips-img\"></image>\n\t\t\t\t<view class=\"tips-title\">\n\t\t\t\t\t<view class=\"tui-modal-custom-text\">确认收到货了吗？</view>\n\t\t\t\t\t<view class=\"tui-modal-custom-text subTitle\">为保障售后权益，请检查后再确认收货</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"btn-block\">\n\t\t\t\t\t<tui-button class=\"btn cancel\" height=\"72rpx\" :size=\"28\" shape=\"circle\" @click=\"onCancel\">取消</tui-button>\n\t\t\t\t\t<tui-button class=\"btn\" height=\"72rpx\" :size=\"28\" type=\"danger\" shape=\"circle\" @click=\"onConfirm\">确认收货</tui-button>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</tui-modal>\n\t\t<tui-modal :show=\"isDelete\" @click=\"onRemove\"  title=\"确定删除订单？\" content=\"删除之后订单无法恢复，请慎重考虑？\"></tui-modal>\n\t\t<!--加载loadding-->\n\t\t<tui-loadmore v-if=\"loaddingMore\" :index=\"3\" type=\"red\"></tui-loadmore>\n\t\t<tui-nomore v-if=\"!pullUpOn\" backgroundColor=\"#fafafa\"></tui-nomore>\n\t\t<!--加载loadding-->\n\n\t</view>\n</template>\n\n<script>\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\ttabs: [{name: \"全部\"},  {name: \"待付款\"},  {name: \"待发货\"},  {name: \"待收货\"}, {name: \"待评价\"}],\n        \t\tloadding: true,\n\t\t\t\tdisplayList: [],\n\t\t\t\tselectedOrder: null,\n\t\t\t\tselectedImg: '',\n\t\t\t\tcurrentTab: 0,\n\t\t\t\tpageIndex: 1,\n\t\t\t\tisShow: false,\n\t\t\t\tisDelete: false,\n\t\t\t\tloaddingMore: false,\n\t\t\t\tpullUpOn: true,\n\t\t\t\tscrollTop: 0,\n\t\t\t}\n\t\t},\n\t\tonLoad(option){\n\t\t\tlet url = '/getOrders/' + uni.getStorageSync(\"pid\")\n\t\t\tthis.tui.request(url,'GET', undefined, true).then((res)=>{\n                this.loadding = false\n\t\t\t\tthis.$store.commit('setOrderList', res.orderList)\n\t\t\t\tthis.currentTab= (option.currentTab)? parseInt(option.currentTab): 0\n\t\t\t\tconsole.log(option,this.currentTab, res)\n\t\t\t\tthis.switchTab(this.currentTab)\n\t\t\t})\n\t\t},\n\t\tcomputed: {\n\t\t\torderList(){\n\t\t\t\treturn this.$store.state.orderList\n\t\t\t}\n\t\t},\n\t\tfilters: {\n\t\t\tgetPrice(price) {\n\t\t\t\tprice = price || 0;\n\t\t\t\treturn price.toFixed(2)\n\t\t\t},\n\t\t\tgetProperty(attr) {\n\t\t\t\tlet str = ''\n\t\t\t\tattr.forEach(o=>{\n\t\t\t\t\tstr = str + o.value + '，'\n\t\t\t\t})\n\t\t\t\treturn str.slice(0,-1)\n\t\t\t},\n\t\t\tgetNum(goodsList) {\n\t\t\t\tlet res = 0\n\t\t\t\tgoodsList.forEach((o)=>{\n\t\t\t\t\tres += o.buyNum\n\t\t\t\t})\n\t\t\t\treturn res\n\t\t\t}\n\t\t},\n\t\twatch: {\n\t\t\tcurrentTab(v){\n\t\t\t\tthis.switchTab(v)\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tgetTime(time){\n\t\t\t\tconst expireTime = 24*60*60*1000 //一天后过期\n\t\t\t\tlet t1 = Date.parse(new Date(time)) + expireTime\n\t\t\t\tlet t2 = Date.parse(new Date())\n\t\t\t\treturn (t1-t2)/1000\n\t\t\t},\n\t\t\tisVisible(state){\n\t\t\t\treturn state.findIndex(o=>{return o.count===1}) !==-1\n\t\t\t},\n\t\t\tchange(e) {\n\t\t\t\tthis.currentTab = e.index\n\t\t\t},\n\t\t\tonCancel(){\n\t\t\t\tthis.isShow = false\n\t\t\t},\n\t\t\tonEnd(order){\n\t\t\t\tthis.tui.toast('订单已失效')\n\t\t\t\tthis.cancelOrder(order)\n\t\t\t},\n\t\t\tswitchTab(v){\n\t\t\t\tswitch(v){\n\t\t\t\t\tcase 0: {\n\t\t\t\t\t\tthis.displayList = this.orderList\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcase 1: {\n\t\t\t\t\t\tthis.displayList = this.orderList.filter((o)=>{\n\t\t\t\t\t\t\treturn o.status===\"待支付\"\n\t\t\t\t\t\t})\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcase 2: {\n\t\t\t\t\t\tthis.displayList = this.orderList.filter((o)=>{\n\t\t\t\t\t\t\treturn o.status===\"待发货\"\n\t\t\t\t\t\t})\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcase 3: {\n\t\t\t\t\t\tthis.displayList = this.orderList.filter((o)=>{\n\t\t\t\t\t\t\treturn o.status===\"待收货\"\n\t\t\t\t\t\t})\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcase 4: {\n\t\t\t\t\t\tthis.displayList = this.orderList.filter((o)=>{\n\t\t\t\t\t\t\treturn o.status===\"待评价\"\n\t\t\t\t\t\t})\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tcancelOrder(order) {\n\t\t\t\tlet url = '/closeOrder_miniProg/' + order.orderNum\n\t\t\t\tthis.tui.request(url).then(\n\t\t\t\t\t(res)=>{\n\t\t\t\t\t\tconsole.log('res', res)\n\t\t\t\t\t\tif(res.code===204){\n\t\t\t\t\t\t\turl = '/updateOrder/' + order.orderNum + '/' + 'status'\n\t\t\t\t\t\t\tthis.tui.request(url, 'PUT', {status : \"交易关闭\"}).then(\n\t\t\t\t\t\t\t\t(res)=>{\n\t\t\t\t\t\t\t\t\tif(res.code==='0'){\n\t\t\t\t\t\t\t\t\t\tlet index =  this.orderList.findIndex((o)=>{ return o.orderNum === order.orderNum})\n\t\t\t\t\t\t\t\t\t\tthis.orderList[index].status = \"交易关闭\"\n                                        this.switchTab(this.currentTab)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.tui.toast('取消失败，请稍后再试')\n\t\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tpay(order) {\n\t\t\t\tlet _this = this\n\t\t\t\tlet url = url\n\t\t\t\tlet result = order.paymentInfo\n\t\t\t\twx.requestPayment({\n\t\t\t\t\tappid: result.appid,\n\t\t\t\t\tnonceStr: result.nonceStr,\n\t\t\t\t\tpackage: result.package,\n\t\t\t\t\ttimeStamp: result.timeStamp,\n\t\t\t\t\tsignType: result.signType,\n\t\t\t\t\tpaySign: result.paySign,\n\t\t\t\t\tsuccess: function () {\n\t\t\t\t\t\turl = '/updateOrder/' + order.orderNum + '/' + 'status'\n\t\t\t\t\t\t_this.tui.request(url, 'PUT', {status : \"待评价\"}).then(()=>{})\n\t\t\t\t\t\t_this.tui.href(\"/pages/order/success/success\")},\n\t\t\t\t\tfail: function (err) {\n\t\t\t\t\t\tconsole.log('err', err)\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t},\n\t\t\tremind() {\n                this.tui.toast('待开发')\n\t\t\t},\n\t\t\trefund(order){\n        \t\tthis.$store.commit('setTargetOrder', order)\n\t\t\t\tthis.tui.href('/pages/my/refundList/refundList?order=' + order.orderNum)\n\t\t\t},\n\t\t\tonReceipt(item){  \n\t\t\t\tthis.selectedOrder = item\n\t\t\t\tthis.selectedImg = item.goodsList[0].defaultImageUrl\n\t\t\t\tthis.isShow=true\n\t\t\t},\n\t\t\tonConfirm(){\n\t\t\t\tthis.addEvaluate(this.selectedOrder, 'first')\n\t\t\t\tthis.selectedOrder = null\n\t\t\t\tthis.selectedImg = ''\n\t\t\t},\n\t\t\tonDelete(order){\n\t\t\t\tthis.selectedOrder = order\n\t\t\t\tthis.isDelete=true\n\t\t\t},\n\t\t\tonRemove(e){\n\t\t\t\tif(e.index===1){\n\t\t\t\t\tlet selectedIndex = this.orderList.findIndex((o)=>{ return o.orderNum === this.selectedOrder.orderNum})\n\t\t\t\t\tthis.orderList.splice(selectedIndex,1)\n\t\t\t\t\tthis.switchTab(this.currentTab)\n\t\t\t\t\tlet url = '/deleteOrder/' + this.selectedOrder.orderNum\n\t\t\t\t\tthis.tui.request(url, 'DELETE').then(()=>{this.tui.toast('删除订单成功')})\n\t\t\t\t}\n\t\t\t\tthis.isDelete = false\n\t\t\t},\n\t\t\tdetail(order) {\n\t\t\t\tthis.$store.commit('setTargetOrder', order)\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '/pages/my/orderDetail/orderDetail'\n\t\t\t\t})\n\t\t\t},\n\t\t\tinvoiceDetail(){\n\t\t\t\tthis.tui.href('/pages/my/invoiceDetail/invoiceDetail')\n\t\t\t},\n\t\t\taddEvaluate(order, mode){\n\t\t\t\tlet url = ''\n\t\t\t\turl = (order.goodsList.length>1)?'/pages/my/evaluateList/evaluateList':\n\t\t\t\t\t('/pages/my/addEvaluate/addEvaluate?mode=' + mode)\n\t\t\t\tthis.$store.commit('setTargetOrder', order)\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: url\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tonPullDownRefresh() {\n\t\t\tsetTimeout(() => {\n\t\t\t\tuni.stopPullDownRefresh()\n\t\t\t}, 200);\n\t\t},\n\t\tonReachBottom() {\n\t\t\t//只是测试效果，逻辑以实际数据为准\n\t\t\tthis.loaddingMore = true\n\t\t\tthis.pullUpOn = true\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.loaddingMore = false\n\t\t\t\tthis.pullUpOn = false\n\t\t\t}, 1000)\n\t\t},\n\t\tonPageScroll(e) {\n\t\t\tthis.scrollTop = e.scrollTop;\n\t\t}\n\t}\n</script>\n\n<style lang=\"less\">\n\t.container {\n\t\tpadding-bottom: env(safe-area-inset-bottom);\n\t}\n\n\t.tui-order-list {\n\t\tmargin-top: 80rpx;\n\t}\n\n\t.tui-order-item {\n\t\tmargin-top: 20rpx;\n\t\tborder-radius: 10rpx;\n\t\toverflow: hidden;\n\t}\n\n\t.tui-countdown__box {\n\t\twidth: 228rpx;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\n\t\tcolor: #fff;\n\t\tbackground-color: #fff;\n\t\tfont-weight: 400;\n\t\tborder: 1rpx solid #eb0909;\n\t\theight: 40rpx;\n\t\tborder-radius: 30px;\n\t\toverflow: hidden;\n\t\tmargin-left: 25rpx;\n\t}\n\t.tui-countdown__title {\n\t\twidth: 100rpx;\n\t\theight: 100%;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tbackground-color: #eb0909;\n\t\tflex-shrink: 0;\n\t\tfont-size: 24rpx;\n\t\tline-height: 24rpx;\n\t}\n\t.tui-flex__center {\n\t\tflex: 1;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t}\n\t.tui-goods-title {\n\t\twidth: 100%;\n\t\tfont-size: 28rpx;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t}\n\n\t.tui-order-status {\n\t\tcolor: rgb(228, 31, 25);\n\t\tfont-size: 26rpx;\n\t}\n\n\t.tui-goods-item {\n\t\twidth: 100%;\n\t\tpadding: 20rpx 30rpx;\n\t\tbox-sizing: border-box;\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t}\n\n\t.tui-goods-img {\n\t\twidth: 180rpx;\n\t\theight: 180rpx;\n\t\tdisplay: block;\n\t\tflex-shrink: 0;\n\t\tborder-radius: 8rpx;\n\t}\n\n\t.tui-goods-center {\n\t\tflex: 1;\n\t\tpadding: 8rpx;\n\t\tbox-sizing: border-box;\n\t}\n\n\t.tui-goods-name {\n\t\tmax-width: 90%;\n\t\tword-break: break-all;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\tdisplay: -webkit-box;\n\t\t-webkit-box-orient: vertical;\n\t\t-webkit-line-clamp: 2;\n\t\tfont-size: 24rpx;\n\t\tline-height: 32rpx;\n\t}\n\n\t.tui-goods-attr {\n\t\tfont-size: 22rpx;\n\t\tcolor: #888888;\n\t\tline-height: 32rpx;\n\t\tpadding-top: 5rpx;\n\t\tword-break: break-all;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\tdisplay: -webkit-box;\n\t\t-webkit-box-orient: vertical;\n\t\t-webkit-line-clamp: 2;\n\t}\n\n\t.tui-price-right {\n\t\ttext-align: right;\n\t\tfont-size: 24rpx;\n\t\tcolor: #888888;\n\t\tline-height: 30rpx;\n\t\tpadding-top: 10rpx;\n\t}\n\t.tui-color-red {\n\t\tcolor: #E41F19;\n\t\tpadding-right: 30rpx;\n\t}\n\t.tui-goods-price {\n\t\twidth: 100%;\n\t\tdisplay: flex;\n\t\talign-items: flex-end;\n\t\tjustify-content: flex-end;\n\t\tfont-size: 24rpx;\n\t}\n\t.tui-size-24 {\n\t\tfont-size: 24rpx;\n\t\tline-height: 24rpx;\n\t}\n\t.tui-price-large {\n\t\tfont-size: 32rpx;\n\t\tline-height: 30rpx;\n\t\tfont-weight: 500;\n\t}\n\t.tui-order-btn {\n\t\twidth: 100%;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: flex-end;\n\t\tbackground: #fff;\n\t\tpadding: 0 30rpx 20rpx;\n\t\tbox-sizing: border-box;\n\t}\n\t.tui-btn-ml {\n\t\tmargin-left: 20rpx;\n\t}\n\t.tui-tips-img{\n\t\twidth: 300rpx;\n\t\theight: 300rpx;\n\t\tmargin: 0 auto;\n\t\tdisplay: block;\n\t}\n\t.tips-title{\n\t\tdisplay: block;\n\t\ttext-align: center;\n\t\tpadding: 20px 0;\n\t\t.subTitle{\n\t\t\tmargin-top: 5px;\n\t\t\tfont-size: 14px;\n\t\t\tcolor: #999;\n\t\t}\n\t}\n\t.btn-block {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\t.btn{\n\t\t\twidth: 46% !important;\n\t\t}\n\t\t.btn.cancel{\n\t\t\tbackground: #ededed !important;\n    \t\tcolor: #999 !important;\n\t\t}\n\t}\n</style>\n","import mod from \"-!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./myOrder.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./myOrder.vue?vue&type=style&index=0&lang=less&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1655203169119\n      var cssReload = require(\"D:/Program/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}