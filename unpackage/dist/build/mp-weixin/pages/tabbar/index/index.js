(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tabbar/index/index"],{"2cdb":function(e,t,i){"use strict";i.r(t);var n=i("c3b7"),a=i.n(n);for(var o in n)"default"!==o&&function(e){i.d(t,e,(function(){return n[e]}))}(o);t["default"]=a.a},"451b":function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return n}));var n={NavBar:function(){return i.e("components/NavBar/NavBar").then(i.bind(null,"04bd"))},CarouselView:function(){return i.e("components/CarouselView/CarouselView").then(i.bind(null,"3f2c"))},AnnounceView:function(){return i.e("components/AnnounceView/AnnounceView").then(i.bind(null,"af73"))},ButtonView:function(){return i.e("components/ButtonView/ButtonView").then(i.bind(null,"d212"))},TitleView:function(){return i.e("components/TitleView/TitleView").then(i.bind(null,"212a"))},VideoView:function(){return i.e("components/VideoView/VideoView").then(i.bind(null,"8bb3"))},GoodsView:function(){return i.e("components/GoodsView/GoodsView").then(i.bind(null,"2da2"))},PictureView:function(){return i.e("components/PictureView/PictureView").then(i.bind(null,"1d90"))},TypingView:function(){return i.e("components/TypingView/TypingView").then(i.bind(null,"5658"))},SearchView:function(){return i.e("components/SearchView/SearchView").then(i.bind(null,"4a12"))},NavigateView:function(){return i.e("components/NavigateView/NavigateView").then(i.bind(null,"60be"))},FreeVesselView:function(){return i.e("components/FreeVesselView/FreeVesselView").then(i.bind(null,"9b5e"))},CrossView:function(){return i.e("components/CrossView/CrossView").then(i.bind(null,"89f6"))},tuiTabbar:function(){return i.e("components/thorui/tui-tabbar/tui-tabbar").then(i.bind(null,"6f38"))}},a=function(){var e=this,t=e.$createElement;e._self._c},o=[]},a16a:function(e,t,i){"use strict";(function(e){i("c514");n(i("66fd"));var t=n(i("be22"));function n(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=i,e(t.default)}).call(this,i("543d")["createPage"])},be22:function(e,t,i){"use strict";i.r(t);var n=i("451b"),a=i("2cdb");for(var o in a)"default"!==o&&function(e){i.d(t,e,(function(){return a[e]}))}(o);var s,r=i("f0c5"),c=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,"08f77035",null,!1,n["a"],s);t["default"]=c.exports},c3b7:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{height:getApp().globalData.navBarHeight,goodsList:[],startVideo:!0,scrollTop:0,lastIndex:0,appid:"",visible:!0,current:0,pageStack:[],pages:[],page:{},tabBar:{iconList:[],style:{color:"#666666",selectedColor:"#EB0909",backgroundColor:"#FFFFFF"}}}},onLoad:function(){var e=this;this.appid=getApp().globalData.appid;var t="/getStoreGoods/"+this.appid;this.tui.request(t).then((function(i){"0"===i.code&&(i.goodsList.forEach((function(e){e.integerPrice=parseInt(e.price),e.decimalPrice=e.price.split(".")[1]})),e.goodsList=i.goodsList,e.$store.commit("setGoodsList",e.goodsList),t="/getStoreGoodsGroup/"+e.appid,e.tui.request(t).then((function(t){if("0"===t.code){var i=[];t.goodsGroup.forEach((function(e){e.children.forEach((function(e){i.push(e)}))})),i.forEach((function(t){t.goodsList=[],e.goodsList.forEach((function(e){e.selectedClassifyList.includes(t.name)&&t.goodsList.push(e)}))})),e.$store.commit("setGoodsGroup",i)}})).catch((function(e){console.log("err",e)})))})),t="/getStoreDetail/"+this.appid,this.tui.request(t).then((function(t){"0"===t.code&&(e.tabBar=t.tabBar,e.pages=t.pages,e.page=e.pages[0],e.$store.commit("setTabBar",e.tabBar),e.$store.commit("setPages",e.pages),console.log("page",e.page))})).catch((function(e){console.log("err",e)})),t="/getStoreSetting/"+this.appid,this.tui.request(t).then((function(t){if("0"===t.code){var i=t.setting;e.$store.commit("setServiceId",i.serviceId),e.$store.commit("setCorpId",i.corpId)}console.log("res",t)}))},onShow:function(){var e=this,t=this.pages.findIndex((function(t){return t.id===e.page.id}));0===t&&(this.visible=!0),this.current=0},methods:{onBack:function(e){var t="";switch(e){case"home":this.visible=!0,t=this.pages[0],this.pageStack=[];case"arrowleft":t=this.pageStack.pop(),0===this.pageStack.length&&(this.visible=!0)}this.page=t},redirect:function(t){if(""!==t.pageName)switch(t.tabName){case"功能页面":var i=t.selectedLink.title;if("首页"===i){this.pages[0],this.visible=!0,this.pageStack=[]}else"分类页"===i?e.navigateTo({url:"/pages/tabbar/classify/classify"}):"搜索页"===i?e.navigateTo({url:"/pages/common/search/search"}):"全部商品"===i?e.navigateTo({url:"/pages/index/productList/productList"}):"用户中心"===i?e.navigateTo({url:"/pages/tabbar/my/my"}):"购物车"===i?e.navigateTo({url:"/pages/tabbar/cart/cart"}):"全部订单"===i?e.navigateTo({url:"/pages/my/myOrder/myOrder"}):"售后订单"===i?e.navigateTo({url:"/pages/my/refundList/refundList"}):"地址列表"===i&&e.navigateTo({url:"/pages/my/address/address"});break;case"装修页面":var n=t.selectedLink.id;this.pageStack.push(this.page);var a=this.pages.findIndex((function(e){return e.id===n}));this.visible=0===a,this.page=this.pages[a];break;case"商品分组":var o=t.selectedLink.parent,s=t.selectedLink.groupType;if(o){var r=t.selectedLink.name;"list"===s?e.navigateTo({url:"/pages/index/list/list?groupName="+r}):e.navigateTo({url:"/pages/tabbar/classify/classify?groupName="+r})}else{var c=[];t.selectedLink.children.forEach((function(e){c.push(e.name)})),e.navigateTo({url:"/pages/index/productList/productList?groupList="+JSON.stringify(c)})}break;case"商品详情":var u=t.selectedLink.spu_id,d=t.selectedLink.id;e.navigateTo({url:"/pages/index/productDetail/productDetail?spu_id="+u+"&sku_id="+d});break;case"自定义链接":t.customForm;break}},tabbarSwitch:function(e){this.current=e.index,this.redirect(e.chooseLink)}}};t.default=i}).call(this,i("543d")["default"])}},[["a16a","common/runtime","common/vendor"]]]);