(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tabbar/my/my"],{6053:function(e,t,n){"use strict";n.r(t);var a=n("eb2c"),r=n.n(a);for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=r.a},"8f98":function(e,t,n){"use strict";(function(e){n("c514");a(n("66fd"));var t=a(n("b74a"));function a(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=n,e(t.default)}).call(this,n("543d")["createPage"])},a7aa:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a}));var a={tuiIcon:function(){return Promise.all([n.e("common/vendor"),n.e("components/thorui/tui-icon/tui-icon")]).then(n.bind(null,"acf0"))},tuiFormButton:function(){return n.e("components/thorui/tui-form-button/tui-form-button").then(n.bind(null,"15b0"))},tuiListCell:function(){return n.e("components/thorui/tui-list-cell/tui-list-cell").then(n.bind(null,"057e"))},tuiFooter:function(){return n.e("components/thorui/tui-footer/tui-footer").then(n.bind(null,"3377"))},tuiTabbar:function(){return n.e("components/thorui/tui-tabbar/tui-tabbar").then(n.bind(null,"6f38"))}},r=function(){var e=this,t=e.$createElement,n=(e._self._c,e.isLogin&&e.userInfo.phone?e._f("formatNumber")(e.userInfo.phone):null);e.$mp.data=Object.assign({},{$root:{f0:n}})},o=[]},b1ec:function(e,t,n){},b74a:function(e,t,n){"use strict";n.r(t);var a=n("a7aa"),r=n("6053");for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);n("d0f8");var i,s=n("f0c5"),u=Object(s["a"])(r["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],i);t["default"]=u.exports},d0f8:function(e,t,n){"use strict";var a=n("b1ec"),r=n.n(a);r.a},eb2c:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n("0d3e")),r=o(n("acd2"));function o(e){return e&&e.__esModule?e:{default:e}}var i={data:function(){return{appid:"",pid:"",top:getApp().globalData.menuTop,height:getApp().globalData.navBarHeight,opacity:0,scrollTop:.5,pullUpOn:!0,current:2,navigate:[{text:"创比赢提供技术支持",color:"#A7A7A7",size:24}]}},onLoad:function(){this.appid=this.$store.state.appid,this.loadData()},onShow:function(){this.current=this.tabBar.list.length-1},filters:{formatNumber:function(e){return a.default.formatNumber(e)}},computed:{userInfo:function(){return this.$store.state.userInfo},isLogin:function(){return this.$store.state.isLogin},orderState:function(){return this.$store.state.orderState},tabBar:function(){return this.$store.state.tabBar}},methods:{loadData:function(t){var n=this,a=e.getStorageSync("pid");if(a){var o="/queryUserInfo/"+a;this.tui.request(o).then((function(a){if(t&&(wx.hideNavigationBarLoading(),wx.stopPullDownRefresh()),"0"===a.code){var o=r.default.jwt_decode(a.token);e.setStorage({key:"token",data:a.token}),e.setStorage({key:"pid",data:o.pid}),e.setStorage({key:"userInfo",data:o.userInfo}),n.$store.commit("login",!0),n.$store.commit("setOrderState",a.orderState),n.$store.commit("setUserInfo",o.userInfo),n.$store.commit("setReviewLikes",a.reviewLikes)}else n.userInfo.nickName="重新登录",n.userInfo.phone="",n.$store.commit("login",!1),e.removeStorageSync("pid"),e.removeStorageSync("token"),n.tui.href("/pages/my/login/login")}))}else this.tui.href("/pages/my/login/login")},getPhoneNumber:function(t){var n=this,a={code:t.code},r=e.getStorageSync("pid"),o="/getPhoneNumber/"+this.appid+"/"+r;this.tui.request(o,"POST",a).then((function(e){n.userInfo.phone=e.phone})).catch((function(e){console.log("err",e)}))},href:function(e,t){var n="";switch(e){case 2:n="/pages/my/set/set";break;case 3:n="/pages/my/userInfo/userInfo";break;case 4:n="/pages/my/myOrder/myOrder?currentTab="+t;break;case 5:n="/pages/my/login/login";break;case 6:n="/pages/index/coupon/coupon";break;case 7:n="/pages/my/message/message";break;case 8:n="/pages/my/myCoupon/myCoupon";break;case 9:n="/pages/my/myGroup/myGroup";break;case 10:n="/pages/my/refundList/refundList";break;case 11:n="/pages/my/wallet/wallet";break;default:break}n?this.tui.href(n,!0):this.tui.toast("功能尚未完善~")},redirect:function(t){var n="";if(""!==t.pageName)switch(t.tabName){case"功能页面":var a=t.selectedLink.title;"首页"===a?e.navigateTo({url:"/pages/tabbar/index/index"}):"分类页"===a?e.navigateTo({url:"/pages/tabbar/classify/classify"}):"搜索页"===a?e.navigateTo({url:"/pages/common/search/search"}):"全部商品"===a?e.navigateTo({url:"/pages/index/productList/productList"}):"用户中心"===a?e.navigateTo({url:"/pages/tabbar/my/my"}):"购物车"===a?e.navigateTo({url:"/pages/tabbar/cart/cart"}):"全部订单"===a?e.navigateTo({url:"/pages/my/myOrder/myOrder"}):"售后订单"===a?e.navigateTo({url:"/pages/my/refundList/refundList"}):"地址列表"===a&&e.navigateTo({url:"/pages/my/address/address"});break;case"装修页面":var r=t.selectedLink.id;n=this.pages.find((function(e){return e.id===r})),this.page=n;case"商品分组":var o=t.selectedLink.parent;if(o){var i=t.selectedLink.name;e.navigateTo({url:"/pages/index/productList/productList?groupName="+i})}else{var s=[];t.selectedLink.children.forEach((function(e){s.push(e.name)})),e.navigateTo({url:"/pages/index/productList/productList?groupList="+JSON.stringify(s)})}break;case"商品详情":var u=t.selectedLink.spu_id,c=t.selectedLink.id;e.navigateTo({url:"/pages/index/productDetail/productDetail?spu_id="+u+"&sku_id="+c});break;case"自定义链接":t.customForm;break}},tabbarSwitch:function(e){this.current=e.index,this.redirect(e.chooseLink)}},onPullDownRefresh:function(){this.loadData(!0)}};t.default=i}).call(this,n("543d")["default"])}},[["8f98","common/runtime","common/vendor"]]]);