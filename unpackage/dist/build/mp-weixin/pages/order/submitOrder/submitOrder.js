(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/order/submitOrder/submitOrder"],{4698:function(t,e,o){"use strict";(function(t){o("c514");n(o("66fd"));var e=n(o("9621"));function n(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=o,t(e.default)}).call(this,o("543d")["createPage"])},"8ec8":function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(o("0d3e"));function r(t){return t&&t.__esModule?t:{default:t}}var i=function(){o.e("components/views/t-pay-way/t-pay-way").then(function(){return resolve(o("11e2"))}.bind(null,o)).catch(o.oe)},u=function(){o.e("components/views/t-select-coupons/t-select-coupons").then(function(){return resolve(o("d7c6"))}.bind(null,o)).catch(o.oe)},s={components:{tPayWay:i,tSelectCoupons:u},data:function(){return{mode:"",hasCoupon:!1,insufficient:!1,show:!1,visible:!1,couponShow:!1,orderForm:{note:"",discount:0,totalCost:0,netCost:0,shipping_fee:0,goodsList:[],address:{telNumber:"",userName:"",label:"",location:"",default:!1,detailInfo:"",postalCode:""}},buttons:[{text:"取消"},{text:"去设置",color:"#eb0909"}]}},filters:{getProperty:function(t){var e="";return t.forEach((function(t){e=e+t.value+"，"})),e.slice(0,-1)},formatNumber:function(t){return n.default.formatNumber(t)}},onLoad:function(t){this.mode=t.mode,this.orderForm.goodsList=JSON.parse(t.goods),this.orderForm.address=this.address,this.calcHandle()},computed:{address:function(){return this.$store.state.userInfo.defaultAddress}},methods:{calcHandle:function(){var t=0;this.orderForm.goodsList.map((function(e){t+=e.price*e.buyNum})),this.orderForm.totalCost=t,this.orderForm.netCost=this.orderForm.totalCost+this.orderForm.shipping_fee},changeNum:function(t){var e=this;this.orderForm.goodsList[t.index].buyNum=t.value,setTimeout((function(){e.calcHandle()}),0)},buttonTap:function(e){this.visible=!1,0===e.index?(this.$emit("close",{}),t.navigateBack({delta:1})):t.navigateTo({url:"/pages/my/editAddress/editAddress"})},chooseAddr:function(){t.navigateTo({url:"/pages/my/address/address?detailInfo="+this.orderForm.address.detailInfo})},addAddress:function(){t.navigateTo({url:"/pages/my/editAddress/editAddress"})},btnPay:function(){this.$refs.pay.show=!0},couponClose:function(){this.couponShow=!1},invoice:function(){this.tui.toast("待开发")}}};e.default=s}).call(this,o("543d")["default"])},9621:function(t,e,o){"use strict";o.r(e);var n=o("abbd"),r=o("9e4c");for(var i in r)"default"!==i&&function(t){o.d(e,t,(function(){return r[t]}))}(i);o("d392");var u,s=o("f0c5"),d=Object(s["a"])(r["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],u);e["default"]=d.exports},"9e4c":function(t,e,o){"use strict";o.r(e);var n=o("8ec8"),r=o.n(n);for(var i in n)"default"!==i&&function(t){o.d(e,t,(function(){return n[t]}))}(i);e["default"]=r.a},a082:function(t,e,o){},abbd:function(t,e,o){"use strict";o.d(e,"b",(function(){return r})),o.d(e,"c",(function(){return i})),o.d(e,"a",(function(){return n}));var n={tuiListCell:function(){return o.e("components/thorui/tui-list-cell/tui-list-cell").then(o.bind(null,"057e"))},tuiNumberbox:function(){return o.e("components/thorui/tui-numberbox/tui-numberbox").then(o.bind(null,"31bb"))},tuiButton:function(){return o.e("components/thorui/tui-button/tui-button").then(o.bind(null,"009d"))},tuiNoData:function(){return o.e("components/thorui/tui-no-data/tui-no-data").then(o.bind(null,"5478"))},tuiDialog:function(){return o.e("components/thorui/tui-dialog/tui-dialog").then(o.bind(null,"dbcd"))}},r=function(){var t=this,e=t.$createElement,o=(t._self._c,t.address?t._f("formatNumber")(t.orderForm.address.telNumber):null),n=t.address?t.__map(t.orderForm.goodsList,(function(e,o){var n=t.__get_orig(e),r=t._f("getProperty")(e.propertyList);return{$orig:n,f1:r}})):null,r=t.address?t.orderForm.totalCost.toFixed(2):null,i=t.address?t.orderForm.shipping_fee.toFixed(2):null,u=t.address?t.orderForm.netCost.toFixed(2).split("."):null,s=t.address?t.orderForm.netCost.toFixed(2).split("."):null,d=t.address?t.orderForm.netCost.toFixed(2).split("."):null,a=t.address?t.orderForm.netCost.toFixed(2).split("."):null;t._isMounted||(t.e0=function(e){t.couponShow=!0},t.e1=function(e){t.visible=!1}),t.$mp.data=Object.assign({},{$root:{f0:o,l0:n,g0:r,g1:i,g2:u,g3:s,g4:d,g5:a}})},i=[]},d392:function(t,e,o){"use strict";var n=o("a082"),r=o.n(n);r.a}},[["4698","common/runtime","common/vendor"]]]);