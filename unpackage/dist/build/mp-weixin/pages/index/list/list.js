(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/list/list"],{"08c7":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=function(){n.e("components/views/t-goods-item/t-goods-item").then(function(){return resolve(n("0707"))}.bind(null,n)).catch(n.oe)},i=function(){n.e("components/views/addCart/addCart").then(function(){return resolve(n("46b2"))}.bind(null,n)).catch(n.oe)},s=3,o=3,r={components:{tGoodsItem:a,popupBox:i},data:function(){return{height:getApp().globalData.navBarHeight,page:{title:"",style:{isBack:!0,color:"#000",backgroundColor:"#FFFFFF",groupBox:1,searchBoxStyle:!0}},isIos:!1,goods:null,newsList:[],cacheTab:[],tabIndex:0,tabBars:[],scrollInto:"",showTips:!1,navigateFlag:!1,pulling:!1,refreshIcon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFEAAABRBAMAAABYoVcFAAAAKlBMVEUAAACXl5eZmZmfn5+YmJiXl5eampqZmZmYmJiYmJiZmZmYmJiZmZmZmZl02B9kAAAADXRSTlMAQKAQ0GAsUN+wz5CA21ow0AAAAM5JREFUSMftzLEJAkEQheFR4WzjGji4wC5E0A7E0OgaEIwF4RqwJEEODKcX1114yQ/uhsLtY6Lh57NZ7Dz1heXd27Kwcb+WlQv3Vy1rWcta1rKW/1Q2R8PWt8FYdhPLi79ZLt33KB/hibJzH1E+PaAqRfqAcuMBVSlyMmy1C6hKka0CoCpBAlUJEmgsQQJVCRKoSpBAU0mSaCpJEk0lSSMaS5JG9FuK/IkeQkmSaEjikSSaRpJoHEmiIvOoyCwqMo+KzKMi8+hoZTtte5vDPrSGI5zJ/Z1kAAAAAElFTkSuQmCC"}},onLoad:function(e){var n=this;if(e.groupName){var a=this.goodsGroup.findIndex((function(t){return t.name===e.groupName}));this.tabIndex=a}this.tabBars=this.goodsGroup,setTimeout((function(){n.newsList=n.randomfn(),t.getSystemInfo({success:function(t){n.isIos="ios"==t.platform.toLocaleLowerCase()}})}),200)},computed:{goodsGroup:function(){return this.$store.state.goodsGroup}},methods:{onBack:function(e){switch(e){case"home":t.navigateTo({url:"/pages/tabbar/index/index"});break;case"arrowleft":t.navigateBack({delta:1});break}},addGoods:function(t){this.goods=t,this.$refs.popup.popupShow=!0},randomfn:function(){for(var t=[],e=0,n=this.tabBars.length;e<n;e++){var a={loadingText:"正在加载...",refreshing:!1,refreshText:"",data:[],isLoading:!1,pageIndex:1};e===this.tabIndex&&(a.pageIndex=2,a.data=a.data.concat(this.tabBars[e].goodsList)),t.push(a)}return t},getList:function(t,e){var n=this.newsList[t],a=this.tabBars[t].goodsList||[];e?(n.data=[],n.loadingText="正在加载...",n.pageIndex=2,n.data=a||[]):(n.data=n.data.concat(a),n.pageIndex++,n.isLoading=!1,n.pageIndex>3&&(n.loadingText="没有更多了"))},loadMore:function(t){var e=this.tabIndex,n=this.newsList[e];n.pageIndex<4&&!n.isLoading&&setTimeout((function(){}),300)},tabClick:function(t){var e=t.target.dataset.current||t.currentTarget.dataset.current;this.switchTab(e)},tabChange:function(t){if("touch"==t.detail.source){var e=t.target.current||t.detail.current;this.switchTab(e)}},switchTab:function(t){if(this.tabIndex!==t){if(0===this.newsList[t].data.length&&this.getList(t),this.newsList[this.tabIndex].pageIndex>s){var e=this.cacheTab.indexOf(this.tabIndex);e<0&&this.cacheTab.push(this.tabIndex)}this.tabIndex=t;var n=t-1<0?0:t-1;if(this.scrollInto=this.tabBars[n].id,this.cacheTab.length>o){var a=this.cacheTab[0];this.clearTabData(a),this.cacheTab.splice(0,1)}}},clearTabData:function(t){this.newsList[t].data.length=0,this.newsList[t].loadingText="加载更多..."},onrefresh:function(e){var n=this,a=this.tabIndex,i=this.newsList[a];i.refreshing||(i.refreshing=!0,i.refreshText="正在刷新...",setTimeout((function(){n.getList(a,!0),n.pulling=!0,i.refreshing=!1,i.refreshFlag=!1,i.refreshText="刷新成功",t.showToast({title:"刷新成功",icon:"none"}),setTimeout((function(){n.pulling=!1}),500)}),1e3))},onpullingdown:function(t){var e=this.newsList[this.tabIndex];e.refreshing||this.pulling||(Math.abs(t.pullingDistance)>Math.abs(t.viewHeight)?(e.refreshFlag=!0,e.refreshText="释放立即刷新"):(e.refreshFlag=!1,e.refreshText="下拉可以刷新"))}}};e.default=r}).call(this,n("543d")["default"])},"21b7":function(t,e,n){"use strict";n.r(e);var a=n("08c7"),i=n.n(a);for(var s in a)"default"!==s&&function(t){n.d(e,t,(function(){return a[t]}))}(s);e["default"]=i.a},3142:function(t,e,n){"use strict";var a=n("be36"),i=n.n(a);i.a},"57f8":function(t,e,n){"use strict";(function(t){n("c514");a(n("66fd"));var e=a(n("6afc"));function a(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=n,t(e.default)}).call(this,n("543d")["createPage"])},"6afc":function(t,e,n){"use strict";n.r(e);var a=n("6ddb"),i=n("21b7");for(var s in i)"default"!==s&&function(t){n.d(e,t,(function(){return i[t]}))}(s);n("3142"),n("c608");var o,r=n("f0c5"),c=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],o);e["default"]=c.exports},"6ddb":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return a}));var a={NavBar:function(){return n.e("components/NavBar/NavBar").then(n.bind(null,"04bd"))},tuiWaterfall:function(){return Promise.all([n.e("common/vendor"),n.e("components/thorui/tui-waterfall/tui-waterfall")]).then(n.bind(null,"2c89"))}},i=function(){var t=this,e=t.$createElement;t._self._c},s=[]},b186:function(t,e,n){},be36:function(t,e,n){},c608:function(t,e,n){"use strict";var a=n("b186"),i=n.n(a);i.a}},[["57f8","common/runtime","common/vendor"]]]);