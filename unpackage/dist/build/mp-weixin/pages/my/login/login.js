(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/my/login/login"],{"0948":function(t,e,n){"use strict";var o=n("d0bc"),r=n.n(o);r.a},4956:function(t,e,n){"use strict";n.r(e);var o=n("b2c6"),r=n("d1ee");for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);n("0948");var u,a=n("f0c5"),c=Object(a["a"])(r["default"],o["b"],o["c"],!1,null,"2c08de79",null,!1,o["a"],u);e["default"]=c.exports},"5cdd":function(t,e,n){"use strict";(function(t){n("c514");o(n("66fd"));var e=o(n("4956"));function o(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=n,t(e.default)}).call(this,n("543d")["createPage"])},9644:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(n("acd2"));function r(t){return t&&t.__esModule?t:{default:t}}var i={data:function(){return{top:getApp().globalData.menuTop,height:getApp().globalData.navBarHeight,nickname:"",from:""}},onLoad:function(t){this.from=t.from,this.appid=this.$store.state.appid},computed:{userInfo:function(){return this.$store.state.userInfo}},methods:{onConfirm:function(){var e=this;t.getUserProfile({desc:"获取您的昵称、头像",success:function(n){var r=n.userInfo;t.login({provider:"weixin",success:function(n){var i=n.code,u="/customerLogin/"+e.appid+"/"+i;e.tui.request(u,"POST",r).then((function(n){if("0"===n.code){var i=o.default.jwt_decode(n.token);t.setStorage({key:"token",data:n.token}),t.setStorage({key:"pid",data:i.pid}),r.phone=i.userInfo.phone,r.defaultAddress=i.userInfo.defaultAddress,t.setStorage({key:"userInfo",data:r}),e.$store.commit("login",!0),e.$store.commit("setUserInfo",r),e.$store.commit("setOrderState",n.orderState),e.$store.commit("setReviewLikes",n.reviewLikes),t.navigateBack({delta:1})}else t.showToast({title:"请求失败,请重新进入小程序",icon:"error",duration:2e3})}))},fail:function(t){console.log("err",t)}})}})},onCancel:function(){"cart"===this.from?t.navigateTo({url:"/pages/tabbar/cart/cart"}):t.navigateBack({delta:1})}}};e.default=i}).call(this,n("543d")["default"])},b2c6:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o}));var o={tuiIcon:function(){return Promise.all([n.e("common/vendor"),n.e("components/thorui/tui-icon/tui-icon")]).then(n.bind(null,"acf0"))},tuiButton:function(){return n.e("components/thorui/tui-button/tui-button").then(n.bind(null,"009d"))}},r=function(){var t=this,e=t.$createElement;t._self._c},i=[]},d0bc:function(t,e,n){},d1ee:function(t,e,n){"use strict";n.r(e);var o=n("9644"),r=n.n(o);for(var i in o)"default"!==i&&function(t){n.d(e,t,(function(){return o[t]}))}(i);e["default"]=r.a}},[["5cdd","common/runtime","common/vendor"]]]);